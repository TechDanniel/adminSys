import{bq as e,b1 as t,ax as a,i,Q as n,_ as o,d as r,aU as s,br as l,bs as c,bf as h,u as d,bt as u,l as p,bu as f,av as m,f as v,s as g,y as w,aH as b,c as y,o as x,w as C,a9 as k,T as M,W as D,a6 as B,X as S,a as L,aS as R,aq as E,V as _,r as T,ap as O,C as z,bv as j,H,bw as N,p as P,Y as I,Z as A,bx as W,by as $,a7 as X,bz as Y,bA as U,ar as F,F as V,G as q,bB as Z,bC as K,E as G,S as Q,$ as J,a4 as ee,bD as te,K as ae,m as ie,ab as ne,ac as oe,b5 as re,B as se,bE as le,aI as ce,k as he,P as de,bF as ue,bh as pe,aP as fe,bG as me,bH as ve,bI as ge,bJ as we,bK as be,j as ye,bL as xe,bM as Ce,b0 as ke,bN as Me,bl as De,z as Be,v as Se,U as Le,b8 as Re,aE as Ee,aK as _e,bO as Te,bP as Oe,bQ as ze,A as je,ao as He,bR as Ne,q as Pe,b7 as Ie,as as Ae,b6 as We,at as $e,aG as Xe,b9 as Ye}from"./index-B_o8siDq.js";import{k as Ue,l as Fe,m as Ve,j as qe,n as Ze,d as Ke,E as Ge,c as Qe,e as Je,f as et,h as tt,_ as at}from"./add-circle-line-BDU1sDx4.js";import"./el-checkbox-VUoa7duk.js";import"./el-tooltip-B01_nTLm.js";import"./el-scrollbar-Dkahi5v9.js";import{u as it,b as nt,E as ot,a as rt}from"./el-dropdown-item-o0CkmHXN.js";import{d as st}from"./el-tag-BiUEjuzt.js";import{a as lt,E as ct}from"./el-form-item-jwksQNZh.js";import{E as ht,a as dt}from"./el-select-ChqbmI9X.js";import{u as ut,E as pt}from"./el-input-Cf2eIeua.js";import{_ as ft}from"./tree.vue_vue_type_script_setup_true_lang-DUFF3wPO.js";import{v as mt}from"./el-loading-Cp0-N6J5.js";import{E as vt}from"./el-progress-DogS7avZ.js";import{m as gt}from"./typescript-CRqm1_SZ.js";import{c as wt}from"./el-radio-BCzj3Wry.js";import{i as bt}from"./isEqual-CcbjmHFc.js";import{_ as yt}from"./index.vue_vue_type_script_setup_true_lang-1jzFzini.js";import{_ as xt}from"./role.vue_vue_type_script_setup_true_lang-CHiexpzu.js";import{_ as Ct}from"./resetPwd.vue_vue_type_script_setup_true_lang-C7ASd_4F.js";import{E as kt}from"./el-divider-CsesGZGr.js";import{u as Mt}from"./hooks-Br3HlGQj.js";import{_ as Dt}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-CneRhBR0.js";import"./el-space-1hjCJYd_.js";import"./castArray-Doute4CP.js";import"./token-DWNpOE8r.js";import"./el-tree-sppG1Rsh.js";import"./index-Z1yq6Wb8.js";import"./inconifyIconOffline-CFYy2gvx.js";import"./el-row-BeMIhmV4.js";import"./el-col-CPQ7RoNE.js";function Bt(t,a,i){var n=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),st(t,a,{leading:n,maxWait:a,trailing:o})}const St=i({urlList:{type:n(Array),default:()=>gt([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:n(String)}}),Lt={close:()=>!0,switch:e=>a(e),rotate:e=>a(e)},Rt=r({name:"ElImageViewer"});const Et=J(o(r({...Rt,props:St,emits:Lt,setup(e,{expose:t,emit:a}){var i;const n=e,o={CONTAIN:{name:"contain",icon:s(c)},ORIGINAL:{name:"original",icon:s(l)}};let r,J="";const{t:ee}=h(),te=d("image-viewer"),{nextZIndex:ae}=u(),ie=p(),ne=p([]),oe=f(),re=p(!0),se=p(n.initialIndex),le=m(o.CONTAIN),ce=p({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),he=p(null!=(i=n.zIndex)?i:ae()),de=v((()=>{const{urlList:e}=n;return e.length<=1})),ue=v((()=>0===se.value)),pe=v((()=>se.value===n.urlList.length-1)),fe=v((()=>n.urlList[se.value])),me=v((()=>[te.e("btn"),te.e("prev"),te.is("disabled",!n.infinite&&ue.value)])),ve=v((()=>[te.e("btn"),te.e("next"),te.is("disabled",!n.infinite&&pe.value)])),ge=v((()=>{const{scale:e,deg:t,offsetX:a,offsetY:i,enableTransition:n}=ce.value;let r=a/e,s=i/e;const l=t*Math.PI/180,c=Math.cos(l),h=Math.sin(l);r=r*c+s*h,s=s*c-a/e*h;const d={transform:`scale(${e}) rotate(${t}deg) translate(${r}px, ${s}px)`,transition:n?"transform .3s":""};return le.value.name===o.CONTAIN.name&&(d.maxWidth=d.maxHeight="100%"),d})),we=v((()=>`${se.value+1} / ${n.urlList.length}`));function be(){oe.stop(),null==r||r(),document.body.style.overflow=J,a("close")}function ye(){re.value=!1}function xe(e){re.value=!1,e.target.alt=ee("el.image.error")}function Ce(e){if(re.value||0!==e.button||!ie.value)return;ce.value.enableTransition=!1;const{offsetX:t,offsetY:a}=ce.value,i=e.pageX,n=e.pageY,o=Bt((e=>{ce.value={...ce.value,offsetX:t+e.pageX-i,offsetY:a+e.pageY-n}})),r=b(document,"mousemove",o);b(document,"mouseup",(()=>{r()})),e.preventDefault()}function ke(){ce.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Me(){if(re.value)return;const e=K(o),t=Object.values(o),a=le.value.name,i=(t.findIndex((e=>e.name===a))+1)%e.length;le.value=o[e[i]],ke()}function De(e){const t=n.urlList.length;se.value=(e+t)%t}function Be(){ue.value&&!n.infinite||De(se.value-1)}function Se(){pe.value&&!n.infinite||De(se.value+1)}function Le(e,t={}){if(re.value)return;const{minScale:i,maxScale:o}=n,{zoomRate:r,rotateDeg:s,enableTransition:l}={zoomRate:n.zoomRate,rotateDeg:90,enableTransition:!0,...t};switch(e){case"zoomOut":ce.value.scale>i&&(ce.value.scale=Number.parseFloat((ce.value.scale/r).toFixed(3)));break;case"zoomIn":ce.value.scale<o&&(ce.value.scale=Number.parseFloat((ce.value.scale*r).toFixed(3)));break;case"clockwise":ce.value.deg+=s,a("rotate",ce.value.deg);break;case"anticlockwise":ce.value.deg-=s,a("rotate",ce.value.deg)}ce.value.enableTransition=l}function Re(e){var t;"pointer"===(null==(t=e.detail)?void 0:t.focusReason)&&e.preventDefault()}function Ee(){n.closeOnPressEscape&&be()}function _e(e){if(e.ctrlKey)return e.deltaY<0||e.deltaY>0?(e.preventDefault(),!1):void 0}return g(fe,(()=>{Q((()=>{const e=ne.value[0];(null==e?void 0:e.complete)||(re.value=!0)}))})),g(se,(e=>{ke(),a("switch",e)})),w((()=>{!function(){const e=Bt((e=>{switch(e.code){case G.esc:n.closeOnPressEscape&&be();break;case G.space:Me();break;case G.left:Be();break;case G.up:Le("zoomIn");break;case G.right:Se();break;case G.down:Le("zoomOut")}})),t=Bt((e=>{Le((e.deltaY||e.deltaX)<0?"zoomIn":"zoomOut",{zoomRate:n.zoomRate,enableTransition:!1})}));oe.run((()=>{b(document,"keydown",e),b(document,"wheel",t)}))}(),r=b("wheel",_e,{passive:!1}),J=document.body.style.overflow,document.body.style.overflow="hidden"})),t({setActiveItem:De}),(e,t)=>(x(),y(L(Z),{to:"body",disabled:!e.teleported},{default:C((()=>[k(M,{name:"viewer-fade",appear:""},{default:C((()=>[D("div",{ref_key:"wrapper",ref:ie,tabindex:-1,class:S(L(te).e("wrapper")),style:B({zIndex:he.value})},[k(L(R),{loop:"",trapped:"","focus-trap-el":ie.value,"focus-start-el":"container",onFocusoutPrevented:Re,onReleaseRequested:Ee},{default:C((()=>[D("div",{class:S(L(te).e("mask")),onClick:O((t=>e.hideOnClickModal&&be()),["self"])},null,10,["onClick"]),E(" CLOSE "),D("span",{class:S([L(te).e("btn"),L(te).e("close")]),onClick:be},[k(L(z),null,{default:C((()=>[k(L(j))])),_:1})],2),E(" ARROW "),L(de)?E("v-if",!0):(x(),_(H,{key:0},[D("span",{class:S(L(me)),onClick:Be},[k(L(z),null,{default:C((()=>[k(L(N))])),_:1})],2),D("span",{class:S(L(ve)),onClick:Se},[k(L(z),null,{default:C((()=>[k(L(P))])),_:1})],2)],64)),e.showProgress?(x(),_("div",{key:1,class:S([L(te).e("btn"),L(te).e("progress")])},[T(e.$slots,"progress",{activeIndex:se.value,total:e.urlList.length},(()=>[I(A(L(we)),1)]))],2)):E("v-if",!0),E(" ACTIONS "),D("div",{class:S([L(te).e("btn"),L(te).e("actions")])},[D("div",{class:S(L(te).e("actions__inner"))},[T(e.$slots,"toolbar",{actions:Le,prev:Be,next:Se,reset:Me,activeIndex:se.value,setActiveItem:De},(()=>[k(L(z),{onClick:e=>Le("zoomOut")},{default:C((()=>[k(L(W))])),_:1},8,["onClick"]),k(L(z),{onClick:e=>Le("zoomIn")},{default:C((()=>[k(L($))])),_:1},8,["onClick"]),D("i",{class:S(L(te).e("actions__divider"))},null,2),k(L(z),{onClick:Me},{default:C((()=>[(x(),y(X(L(le).icon)))])),_:1}),D("i",{class:S(L(te).e("actions__divider"))},null,2),k(L(z),{onClick:e=>Le("anticlockwise")},{default:C((()=>[k(L(Y))])),_:1},8,["onClick"]),k(L(z),{onClick:e=>Le("clockwise")},{default:C((()=>[k(L(U))])),_:1},8,["onClick"])]))],2)],2),E(" CANVAS "),D("div",{class:S(L(te).e("canvas"))},[(x(!0),_(H,null,F(e.urlList,((t,a)=>V((x(),_("img",{ref_for:!0,ref:e=>ne.value[a]=e,key:t,src:t,style:B(L(ge)),class:S(L(te).e("img")),crossorigin:e.crossorigin,onLoad:ye,onError:xe,onMousedown:Ce},null,46,["src","crossorigin"])),[[q,a===se.value]]))),128))],2),T(e.$slots,"default")])),_:3},8,["focus-trap-el"])],6)])),_:3})])),_:3},8,["disabled"]))}}),[["__file","image-viewer.vue"]])),_t=i({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:n([String,Object])},previewSrcList:{type:n(Array),default:()=>gt([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:n(String)}}),Tt={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>a(e),close:()=>!0,show:()=>!0},Ot=r({name:"ElImage",inheritAttrs:!1});const zt=J(o(r({...Ot,props:_t,emits:Tt,setup(e,{expose:a,emit:i}){const n=e,{t:o}=h(),r=d("image"),s=ee(),l=v((()=>te(Object.entries(s).filter((([e])=>/^(data-|on[A-Z])/i.test(e)||["id","style"].includes(e)))))),c=ut({excludeListeners:!0,excludeKeys:v((()=>Object.keys(l.value)))}),u=p(),f=p(!1),m=p(!0),k=p(!1),M=p(),B=p(),R=t&&"loading"in HTMLImageElement.prototype;let O;const z=v((()=>[r.e("inner"),N.value&&r.e("preview"),m.value&&r.is("loading")])),j=v((()=>{const{fit:e}=n;return t&&e?{objectFit:e}:{}})),N=v((()=>{const{previewSrcList:e}=n;return ae(e)&&e.length>0})),P=v((()=>{const{previewSrcList:e,initialIndex:t}=n;let a=t;return t>e.length-1&&(a=0),a})),I=v((()=>"eager"!==n.loading&&(!R&&"lazy"===n.loading||n.lazy))),W=()=>{t&&(m.value=!0,f.value=!1,u.value=n.src)};function $(e){m.value=!1,f.value=!1,i("load",e)}function X(e){m.value=!1,f.value=!0,i("error",e)}function Y(){((e,a)=>{if(!t||!e||!a)return!1;const i=e.getBoundingClientRect();let n;return n=a instanceof Element?a.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<n.bottom&&i.bottom>n.top&&i.right>n.left&&i.left<n.right})(M.value,B.value)&&(W(),V())}const U=ce(Y,200,!0);async function F(){var e;if(!t)return;await Q();const{scrollContainer:a}=n;re(a)?B.value=a:se(a)&&""!==a?B.value=null!=(e=document.querySelector(a))?e:void 0:M.value&&(B.value=le(M.value)),B.value&&(O=b(B,"scroll",U),setTimeout((()=>Y()),100))}function V(){t&&B.value&&U&&(null==O||O(),B.value=void 0)}function q(){N.value&&(k.value=!0,i("show"))}function Z(){k.value=!1,i("close")}function K(e){i("switch",e)}return g((()=>n.src),(()=>{I.value?(m.value=!0,f.value=!1,V(),F()):W()})),w((()=>{I.value?F():W()})),a({showPreview:q}),(e,t)=>(x(),_("div",ie({ref_key:"container",ref:M},L(l),{class:[L(r).b(),e.$attrs.class]}),[f.value?T(e.$slots,"error",{key:0},(()=>[D("div",{class:S(L(r).e("error"))},A(L(o)("el.image.error")),3)])):(x(),_(H,{key:1},[void 0!==u.value?(x(),_("img",ie({key:0},L(c),{src:u.value,loading:e.loading,style:L(j),class:L(z),crossorigin:e.crossorigin,onClick:q,onLoad:$,onError:X}),null,16,["src","loading","crossorigin"])):E("v-if",!0),m.value?(x(),_("div",{key:1,class:S(L(r).e("wrapper"))},[T(e.$slots,"placeholder",{},(()=>[D("div",{class:S(L(r).e("placeholder"))},null,2)]))],2)):E("v-if",!0)],64)),L(N)?(x(),_(H,{key:2},[k.value?(x(),y(L(Et),{key:0,"z-index":e.zIndex,"initial-index":L(P),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"show-progress":e.showProgress,"url-list":e.previewSrcList,crossorigin:e.crossorigin,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:Z,onSwitch:K},{progress:C((t=>[T(e.$slots,"progress",ne(oe(t)))])),toolbar:C((t=>[T(e.$slots,"toolbar",ne(oe(t)))])),default:C((()=>[e.$slots.viewer?(x(),_("div",{key:0},[T(e.$slots,"viewer")])):E("v-if",!0)])),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):E("v-if",!0)],64)):E("v-if",!0)],16))}}),[["__file","image.vue"]])),jt=Symbol("uploadContextKey");class Ht extends Error{constructor(e,t,a,i){super(e),this.name="UploadAjaxError",this.status=t,this.method=a,this.url=i}}function Nt(e,t,a){let i;return i=a.response?`${a.response.error||a.response}`:a.responseText?`${a.responseText}`:`fail to ${t.method} ${e} ${a.status}`,new Ht(i,a.status,t.method,e)}const Pt=["text","picture","picture-card"];let It=1;const At=()=>Date.now()+It++,Wt=i({action:{type:String,default:"#"},headers:{type:n(Object)},method:{type:String,default:"post"},data:{type:n([Object,Function,Promise]),default:()=>gt({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:n(Array),default:()=>gt([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Pt,default:"text"},httpRequest:{type:n(Function),default:e=>{"undefined"==typeof XMLHttpRequest&&he("ElUpload","XMLHttpRequest is undefined");const t=new XMLHttpRequest,a=e.action;t.upload&&t.upload.addEventListener("progress",(t=>{const a=t;a.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(a)}));const i=new FormData;if(e.data)for(const[o,r]of Object.entries(e.data))ae(r)&&r.length?i.append(o,...r):i.append(o,r);i.append(e.filename,e.file,e.file.name),t.addEventListener("error",(()=>{e.onError(Nt(a,e,t))})),t.addEventListener("load",(()=>{if(t.status<200||t.status>=300)return e.onError(Nt(a,e,t));e.onSuccess(function(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}(t))})),t.open(e.method,a,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const n=e.headers||{};if(n instanceof Headers)n.forEach(((e,a)=>t.setRequestHeader(a,e)));else for(const[o,r]of Object.entries(n))de(r)||t.setRequestHeader(o,String(r));return t.send(i),t}},disabled:Boolean,limit:Number}),$t=i({...Wt,beforeUpload:{type:n(Function),default:ue},beforeRemove:{type:n(Function)},onRemove:{type:n(Function),default:ue},onChange:{type:n(Function),default:ue},onPreview:{type:n(Function),default:ue},onSuccess:{type:n(Function),default:ue},onProgress:{type:n(Function),default:ue},onError:{type:n(Function),default:ue},onExceed:{type:n(Function),default:ue},crossorigin:{type:n(String)}}),Xt=i({files:{type:n(Array),default:()=>gt([])},disabled:{type:Boolean,default:!1},handlePreview:{type:n(Function),default:ue},listType:{type:String,values:Pt,default:"text"},crossorigin:{type:n(String)}}),Yt=r({name:"ElUploadList"});var Ut=o(r({...Yt,props:Xt,emits:{remove:e=>!!e},setup(e,{emit:t}){const a=e,{t:i}=h(),n=d("upload"),o=d("icon"),r=d("list"),s=pe(),l=p(!1),c=v((()=>[n.b("list"),n.bm("list",a.listType),n.is("disabled",a.disabled)])),u=e=>{t("remove",e)};return(e,t)=>(x(),y(be,{tag:"ul",class:S(L(c)),name:L(r).b()},{default:C((()=>[(x(!0),_(H,null,F(e.files,((t,a)=>(x(),_("li",{key:t.uid||t.name,class:S([L(n).be("list","item"),L(n).is(t.status),{focusing:l.value}]),tabindex:"0",onKeydown:fe((e=>!L(s)&&u(t)),["delete"]),onFocus:e=>l.value=!0,onBlur:e=>l.value=!1,onClick:e=>l.value=!1},[T(e.$slots,"default",{file:t,index:a},(()=>["picture"===e.listType||"uploading"!==t.status&&"picture-card"===e.listType?(x(),_("img",{key:0,class:S(L(n).be("list","item-thumbnail")),src:t.url,crossorigin:e.crossorigin,alt:""},null,10,["src","crossorigin"])):E("v-if",!0),"uploading"===t.status||"picture-card"!==e.listType?(x(),_("div",{key:1,class:S(L(n).be("list","item-info"))},[D("a",{class:S(L(n).be("list","item-name")),onClick:O((a=>e.handlePreview(t)),["prevent"])},[k(L(z),{class:S(L(o).m("document"))},{default:C((()=>[k(L(me))])),_:1},8,["class"]),D("span",{class:S(L(n).be("list","item-file-name")),title:t.name},A(t.name),11,["title"])],10,["onClick"]),"uploading"===t.status?(x(),y(L(vt),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(t.percentage),style:B("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):E("v-if",!0)],2)):E("v-if",!0),D("label",{class:S(L(n).be("list","item-status-label"))},["text"===e.listType?(x(),y(L(z),{key:0,class:S([L(o).m("upload-success"),L(o).m("circle-check")])},{default:C((()=>[k(L(ve))])),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(x(),y(L(z),{key:1,class:S([L(o).m("upload-success"),L(o).m("check")])},{default:C((()=>[k(L(ge))])),_:1},8,["class"])):E("v-if",!0)],2),L(s)?E("v-if",!0):(x(),y(L(z),{key:2,class:S(L(o).m("close")),onClick:e=>u(t)},{default:C((()=>[k(L(j))])),_:2},1032,["class","onClick"])),E(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),E(" This is a bug which needs to be fixed "),E(" TODO: Fix the incorrect navigation interaction "),L(s)?E("v-if",!0):(x(),_("i",{key:3,class:S(L(o).m("close-tip"))},A(L(i)("el.upload.deleteTip")),3)),"picture-card"===e.listType?(x(),_("span",{key:4,class:S(L(n).be("list","item-actions"))},[D("span",{class:S(L(n).be("list","item-preview")),onClick:a=>e.handlePreview(t)},[k(L(z),{class:S(L(o).m("zoom-in"))},{default:C((()=>[k(L($))])),_:1},8,["class"])],10,["onClick"]),L(s)?E("v-if",!0):(x(),_("span",{key:0,class:S(L(n).be("list","item-delete")),onClick:e=>u(t)},[k(L(z),{class:S(L(o).m("delete"))},{default:C((()=>[k(L(we))])),_:1},8,["class"])],10,["onClick"]))],2)):E("v-if",!0)]))],42,["onKeydown","onFocus","onBlur","onClick"])))),128)),T(e.$slots,"append")])),_:3},8,["class","name"]))}}),[["__file","upload-list.vue"]]);const Ft=i({disabled:{type:Boolean,default:!1}}),Vt={file:e=>ae(e)},qt="ElUploadDrag",Zt=r({name:qt});var Kt=o(r({...Zt,props:Ft,emits:Vt,setup(e,{emit:t}){ye(jt)||he(qt,"usage: <el-upload><el-upload-dragger /></el-upload>");const a=d("upload"),i=p(!1),n=pe(),o=e=>{if(n.value)return;i.value=!1,e.stopPropagation();const a=Array.from(e.dataTransfer.files),o=e.dataTransfer.items||[];a.forEach(((e,t)=>{var a;const i=o[t],n=null==(a=null==i?void 0:i.webkitGetAsEntry)?void 0:a.call(i);n&&(e.isDirectory=n.isDirectory)})),t("file",a)},r=()=>{n.value||(i.value=!0)};return(e,t)=>(x(),_("div",{class:S([L(a).b("dragger"),L(a).is("dragover",i.value)]),onDrop:O(o,["prevent"]),onDragover:O(r,["prevent"]),onDragleave:O((e=>i.value=!1),["prevent"])},[T(e.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}}),[["__file","upload-dragger.vue"]]);const Gt=i({...Wt,beforeUpload:{type:n(Function),default:ue},onRemove:{type:n(Function),default:ue},onStart:{type:n(Function),default:ue},onSuccess:{type:n(Function),default:ue},onProgress:{type:n(Function),default:ue},onError:{type:n(Function),default:ue},onExceed:{type:n(Function),default:ue}}),Qt=r({name:"ElUploadContent",inheritAttrs:!1});var Jt=o(r({...Qt,props:Gt,setup(e,{expose:t}){const a=e,i=d("upload"),n=pe(),o=m({}),r=m(),s=e=>{if(0===e.length)return;const{autoUpload:t,limit:i,fileList:n,multiple:o,onStart:r,onExceed:s}=a;if(i&&n.length+e.length>i)s(e,n);else{o||(e=e.slice(0,1));for(const a of e){const e=a;e.uid=At(),r(e),t&&l(e)}}},l=async e=>{if(r.value.value="",!a.beforeUpload)return c(e);let t,i={};try{const n=a.data,o=a.beforeUpload(e);i=xe(a.data)?wt(a.data):a.data,t=await o,xe(a.data)&&bt(n,i)&&(i=wt(a.data))}catch(o){t=!1}if(!1===t)return void a.onRemove(e);let n=e;t instanceof Blob&&(n=t instanceof File?t:new File([t],e.name,{type:e.type})),c(Object.assign(n,{uid:e.uid}),i)},c=async(e,t)=>{const{headers:i,data:n,method:r,withCredentials:s,name:l,action:c,onProgress:h,onSuccess:d,onError:u,httpRequest:p}=a;try{t=await(async(e,t)=>ke(e)?e(t):e)(null!=t?t:n,e)}catch(g){return void a.onRemove(e)}const{uid:f}=e,m={headers:i||{},withCredentials:s,file:e,data:t,method:r,filename:l,action:c,onProgress:t=>{h(t,e)},onSuccess:t=>{d(t,e),delete o.value[f]},onError:t=>{u(t,e),delete o.value[f]}},v=p(m);o.value[f]=v,v instanceof Promise&&v.then(m.onSuccess,m.onError)},h=e=>{const t=e.target.files;t&&s(Array.from(t))},u=()=>{n.value||(r.value.value="",r.value.click())},p=()=>{u()};return t({abort:e=>{Ce(o.value).filter(e?([t])=>String(e.uid)===t:()=>!0).forEach((([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete o.value[e]}))},upload:l}),(e,t)=>(x(),_("div",{class:S([L(i).b(),L(i).m(e.listType),L(i).is("drag",e.drag),L(i).is("disabled",L(n))]),tabindex:L(n)?"-1":"0",onClick:u,onKeydown:fe(O(p,["self"]),["enter","space"])},[e.drag?(x(),y(Kt,{key:0,disabled:L(n),onFile:s},{default:C((()=>[T(e.$slots,"default")])),_:3},8,["disabled"])):T(e.$slots,"default",{key:1}),D("input",{ref_key:"inputRef",ref:r,class:S(L(i).e("input")),name:e.name,disabled:L(n),multiple:e.multiple,accept:e.accept,type:"file",onChange:h,onClick:O((()=>{}),["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}}),[["__file","upload-content.vue"]]);const ea="ElUpload",ta=e=>{var t;(null==(t=e.url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},aa=r({name:"ElUpload"});const ia=J(o(r({...aa,props:$t,setup(e,{expose:t}){const a=e,i=pe(),n=m(),{abort:o,submit:r,clearFiles:s,uploadFiles:l,handleStart:c,handleError:h,handleRemove:d,handleSuccess:u,handleProgress:p,revokeFileObjectURL:f}=((e,t)=>{const a=Me(e,"fileList",void 0,{passive:!0}),i=e=>a.value.find((t=>t.uid===e.uid));function n(e){var a;null==(a=t.value)||a.abort(e)}function o(e){a.value=a.value.filter((t=>t.uid!==e.uid))}return g((()=>e.listType),(t=>{"picture-card"!==t&&"picture"!==t||(a.value=a.value.map((t=>{const{raw:i,url:n}=t;if(!n&&i)try{t.url=URL.createObjectURL(i)}catch(o){e.onError(o,t,a.value)}return t})))})),g(a,(e=>{for(const t of e)t.uid||(t.uid=At()),t.status||(t.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:a,abort:n,clearFiles:function(e=["ready","uploading","success","fail"]){a.value=a.value.filter((t=>!e.includes(t.status)))},handleError:(t,n)=>{const r=i(n);r&&(r.status="fail",o(r),e.onError(t,r,a.value),e.onChange(r,a.value))},handleProgress:(t,n)=>{const o=i(n);o&&(e.onProgress(t,o,a.value),o.status="uploading",o.percentage=Math.round(t.percent))},handleStart:t=>{de(t.uid)&&(t.uid=At());const i={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if("picture-card"===e.listType||"picture"===e.listType)try{i.url=URL.createObjectURL(t)}catch(n){De(ea,n.message),e.onError(n,i,a.value)}a.value=[...a.value,i],e.onChange(i,a.value)},handleSuccess:(t,n)=>{const o=i(n);o&&(o.status="success",o.response=t,e.onSuccess(t,o,a.value),e.onChange(o,a.value))},handleRemove:async t=>{const r=t instanceof File?i(t):t;r||he(ea,"file to be removed not found");const s=t=>{n(t),o(t),e.onRemove(t,a.value),ta(t)};e.beforeRemove?!1!==await e.beforeRemove(r,a.value)&&s(r):s(r)},submit:function(){a.value.filter((({status:e})=>"ready"===e)).forEach((({raw:e})=>{var a;return e&&(null==(a=t.value)?void 0:a.upload(e))}))},revokeFileObjectURL:ta}})(a,n),w=v((()=>"picture-card"===a.listType)),b=v((()=>({...a,fileList:l.value,onStart:c,onProgress:p,onSuccess:u,onError:h,onRemove:d})));return Be((()=>{l.value.forEach(f)})),Se(jt,{accept:Le(a,"accept")}),t({abort:o,submit:r,clearFiles:s,handleStart:c,handleRemove:d}),(e,t)=>(x(),_("div",null,[L(w)&&e.showFileList?(x(),y(Ut,{key:0,disabled:L(i),"list-type":e.listType,files:L(l),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:L(d)},Re({append:C((()=>[k(Jt,ie({ref_key:"uploadRef",ref:n},L(b)),{default:C((()=>[e.$slots.trigger?T(e.$slots,"trigger",{key:0}):E("v-if",!0),!e.$slots.trigger&&e.$slots.default?T(e.$slots,"default",{key:1}):E("v-if",!0)])),_:3},16)])),_:2},[e.$slots.file?{name:"default",fn:C((({file:t,index:a})=>[T(e.$slots,"file",{file:t,index:a})]))}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):E("v-if",!0),!L(w)||L(w)&&!e.showFileList?(x(),y(Jt,ie({key:1,ref_key:"uploadRef",ref:n},L(b)),{default:C((()=>[e.$slots.trigger?T(e.$slots,"trigger",{key:0}):E("v-if",!0),!e.$slots.trigger&&e.$slots.default?T(e.$slots,"default",{key:1}):E("v-if",!0)])),_:3},16)):E("v-if",!0),e.$slots.trigger?T(e.$slots,"default",{key:2}):E("v-if",!0),T(e.$slots,"tip"),!L(w)&&e.showFileList?(x(),y(Ut,{key:3,disabled:L(i),"list-type":e.listType,files:L(l),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:L(d)},Re({_:2},[e.$slots.file?{name:"default",fn:C((({file:t,index:a})=>[T(e.$slots,"file",{file:t,index:a})]))}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):E("v-if",!0)]))}}),[["__file","upload.vue"]]));function na(e,t=2){if(0===e)return"0 Bytes";const a=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}
/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){ha(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sa(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sa(i.key),i)}}function ha(e,t,a){return(t=sa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function da(e){return function(e){if(Array.isArray(e))return ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ua(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ua(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var pa="undefined"!=typeof window&&void 0!==window.document,fa=pa?window:{},ma=!(!pa||!fa.document.documentElement)&&"ontouchstart"in fa.document.documentElement,va=!!pa&&"PointerEvent"in fa,ga="cropper",wa="all",ba="crop",ya="move",xa="zoom",Ca="e",ka="w",Ma="s",Da="n",Ba="ne",Sa="nw",La="se",Ra="sw",Ea="".concat(ga,"-crop"),_a="".concat(ga,"-disabled"),Ta="".concat(ga,"-hidden"),Oa="".concat(ga,"-hide"),za="".concat(ga,"-invisible"),ja="".concat(ga,"-modal"),Ha="".concat(ga,"-move"),Na="".concat(ga,"Action"),Pa="".concat(ga,"Preview"),Ia="crop",Aa="move",Wa="none",$a="crop",Xa="cropend",Ya="cropmove",Ua="cropstart",Fa="dblclick",Va=va?"pointerdown":ma?"touchstart":"mousedown",qa=va?"pointermove":ma?"touchmove":"mousemove",Za=va?"pointerup pointercancel":ma?"touchend touchcancel":"mouseup",Ka="ready",Ga="resize",Qa="wheel",Ja="zoom",ei="image/jpeg",ti=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ai=/^data:/,ii=/^data:image\/jpeg;base64,/,ni=/^img|canvas$/i,oi={viewMode:0,dragMode:Ia,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ri=Number.isNaN||fa.isNaN;function si(e){return"number"==typeof e&&!ri(e)}var li=function(e){return e>0&&e<1/0};function ci(e){return void 0===e}function hi(e){return"object"===la(e)&&null!==e}var di=Object.prototype.hasOwnProperty;function ui(e){if(!hi(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&di.call(a,"isPrototypeOf")}catch(i){return!1}}function pi(e){return"function"==typeof e}var fi=Array.prototype.slice;function mi(e){return Array.from?Array.from(e):fi.call(e)}function vi(e,t){return e&&pi(t)&&(Array.isArray(e)||si(e.length)?mi(e).forEach((function(a,i){t.call(e,a,i,e)})):hi(e)&&Object.keys(e).forEach((function(a){t.call(e,e[a],a,e)}))),e}var gi=Object.assign||function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return hi(e)&&a.length>0&&a.forEach((function(t){hi(t)&&Object.keys(t).forEach((function(a){e[a]=t[a]}))})),e},wi=/\.\d*(?:0|9){12}\d*$/;function bi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return wi.test(e)?Math.round(e*t)/t:e}var yi=/^width|height|left|top|marginLeft|marginTop$/;function xi(e,t){var a=e.style;vi(t,(function(e,t){yi.test(t)&&si(e)&&(e="".concat(e,"px")),a[t]=e}))}function Ci(e,t){if(t)if(si(e.length))vi(e,(function(e){Ci(e,t)}));else if(e.classList)e.classList.add(t);else{var a=e.className.trim();a?a.indexOf(t)<0&&(e.className="".concat(a," ").concat(t)):e.className=t}}function ki(e,t){t&&(si(e.length)?vi(e,(function(e){ki(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Mi(e,t,a){t&&(si(e.length)?vi(e,(function(e){Mi(e,t,a)})):a?Ci(e,t):ki(e,t))}var Di=/([a-z\d])([A-Z])/g;function Bi(e){return e.replace(Di,"$1-$2").toLowerCase()}function Si(e,t){return hi(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Bi(t)))}function Li(e,t,a){hi(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-".concat(Bi(t)),a)}var Ri=/\s\s*/,Ei=function(){var e=!1;if(pa){var t=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});fa.addEventListener("test",a,i),fa.removeEventListener("test",a,i)}return e}();function _i(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=a;t.trim().split(Ri).forEach((function(t){if(!Ei){var o=e.listeners;o&&o[t]&&o[t][a]&&(n=o[t][a],delete o[t][a],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,n,i)}))}function Ti(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=a;t.trim().split(Ri).forEach((function(t){if(i.once&&!Ei){var o=e.listeners,r=void 0===o?{}:o;n=function(){delete r[t][a],e.removeEventListener(t,n,i);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];a.apply(e,s)},r[t]||(r[t]={}),r[t][a]&&e.removeEventListener(t,r[t][a],i),r[t][a]=n,e.listeners=r}e.addEventListener(t,n,i)}))}function Oi(e,t,a){var i;return pi(Event)&&pi(CustomEvent)?i=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,a),e.dispatchEvent(i)}function zi(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var ji=fa.location,Hi=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ni(e){var t=e.match(Hi);return null!==t&&(t[1]!==ji.protocol||t[2]!==ji.hostname||t[3]!==ji.port)}function Pi(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ii(e){var t=e.rotate,a=e.scaleX,i=e.scaleY,n=e.translateX,o=e.translateY,r=[];si(n)&&0!==n&&r.push("translateX(".concat(n,"px)")),si(o)&&0!==o&&r.push("translateY(".concat(o,"px)")),si(t)&&0!==t&&r.push("rotate(".concat(t,"deg)")),si(a)&&1!==a&&r.push("scaleX(".concat(a,")")),si(i)&&1!==i&&r.push("scaleY(".concat(i,")"));var s=r.length?r.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ai(e,t){var a=e.pageX,i=e.pageY,n={endX:a,endY:i};return t?n:ra({startX:a,startY:i},n)}function Wi(e){var t=e.aspectRatio,a=e.height,i=e.width,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=li(i),r=li(a);if(o&&r){var s=a*t;"contain"===n&&s>i||"cover"===n&&s<i?a=i/t:i=a*t}else o?a=i/t:r&&(i=a*t);return{width:i,height:a}}var $i=String.fromCharCode;var Xi=/^data:.*,/;function Yi(e){var t,a=new DataView(e);try{var i,n,o;if(255===a.getUint8(0)&&216===a.getUint8(1))for(var r=a.byteLength,s=2;s+1<r;){if(255===a.getUint8(s)&&225===a.getUint8(s+1)){n=s;break}s+=1}if(n){var l=n+10;if("Exif"===function(e,t,a){var i="";a+=t;for(var n=t;n<a;n+=1)i+=$i(e.getUint8(n));return i}(a,n+4,4)){var c=a.getUint16(l);if(((i=18761===c)||19789===c)&&42===a.getUint16(l+2,i)){var h=a.getUint32(l+4,i);h>=8&&(o=l+h)}}}if(o){var d,u,p=a.getUint16(o,i);for(u=0;u<p;u+=1)if(d=o+12*u+2,274===a.getUint16(d,i)){d+=8,t=a.getUint16(d,i),a.setUint16(d,1,i);break}}}catch(f){t=1}return t}var Ui={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,a=this.container,i=this.cropper,n=Number(t.minContainerWidth),o=Number(t.minContainerHeight);Ci(i,Ta),ki(e,Ta);var r={width:Math.max(a.offsetWidth,n>=0?n:200),height:Math.max(a.offsetHeight,o>=0?o:100)};this.containerData=r,xi(i,{width:r.width,height:r.height}),Ci(e,Ta),ki(i,Ta)},initCanvas:function(){var e=this.containerData,t=this.imageData,a=this.options.viewMode,i=Math.abs(t.rotate)%180==90,n=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,r=n/o,s=e.width,l=e.height;e.height*r>e.width?3===a?s=e.height*r:l=e.width/r:3===a?l=e.width/r:s=e.height*r;var c={aspectRatio:r,naturalWidth:n,naturalHeight:o,width:s,height:l};this.canvasData=c,this.limited=1===a||2===a,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=gi({},c)},limitCanvas:function(e,t){var a=this.options,i=this.containerData,n=this.canvasData,o=this.cropBoxData,r=a.viewMode,s=n.aspectRatio,l=this.cropped&&o;if(e){var c=Number(a.minCanvasWidth)||0,h=Number(a.minCanvasHeight)||0;r>1?(c=Math.max(c,i.width),h=Math.max(h,i.height),3===r&&(h*s>c?c=h*s:h=c/s)):r>0&&(c?c=Math.max(c,l?o.width:0):h?h=Math.max(h,l?o.height:0):l&&(c=o.width,(h=o.height)*s>c?c=h*s:h=c/s));var d=Wi({aspectRatio:s,width:c,height:h});c=d.width,h=d.height,n.minWidth=c,n.minHeight=h,n.maxWidth=1/0,n.maxHeight=1/0}if(t)if(r>(l?0:1)){var u=i.width-n.width,p=i.height-n.height;n.minLeft=Math.min(0,u),n.minTop=Math.min(0,p),n.maxLeft=Math.max(0,u),n.maxTop=Math.max(0,p),l&&this.limited&&(n.minLeft=Math.min(o.left,o.left+(o.width-n.width)),n.minTop=Math.min(o.top,o.top+(o.height-n.height)),n.maxLeft=o.left,n.maxTop=o.top,2===r&&(n.width>=i.width&&(n.minLeft=Math.min(0,u),n.maxLeft=Math.max(0,u)),n.height>=i.height&&(n.minTop=Math.min(0,p),n.maxTop=Math.max(0,p))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=i.width,n.maxTop=i.height},renderCanvas:function(e,t){var a=this.canvasData,i=this.imageData;if(t){var n=function(e){var t=e.width,a=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:a,height:t};var n=i%90*Math.PI/180,o=Math.sin(n),r=Math.cos(n),s=t*r+a*o,l=t*o+a*r;return i>90?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=n.width,r=n.height,s=a.width*(o/a.naturalWidth),l=a.height*(r/a.naturalHeight);a.left-=(s-a.width)/2,a.top-=(l-a.height)/2,a.width=s,a.height=l,a.aspectRatio=o/r,a.naturalWidth=o,a.naturalHeight=r,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,xi(this.canvas,gi({width:a.width,height:a.height},Ii({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,a=this.imageData,i=a.naturalWidth*(t.width/t.naturalWidth),n=a.naturalHeight*(t.height/t.naturalHeight);gi(a,{width:i,height:n,left:(t.width-i)/2,top:(t.height-n)/2}),xi(this.image,gi({width:a.width,height:a.height},Ii(gi({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,a=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,n={width:t.width,height:t.height};a&&(t.height*a>t.width?n.height=n.width/a:n.width=n.height*a),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*i),n.height=Math.max(n.minHeight,n.height*i),n.left=t.left+(t.width-n.width)/2,n.top=t.top+(t.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=gi({},n)},limitCropBox:function(e,t){var a=this.options,i=this.containerData,n=this.canvasData,o=this.cropBoxData,r=this.limited,s=a.aspectRatio;if(e){var l=Number(a.minCropBoxWidth)||0,c=Number(a.minCropBoxHeight)||0,h=r?Math.min(i.width,n.width,n.width+n.left,i.width-n.left):i.width,d=r?Math.min(i.height,n.height,n.height+n.top,i.height-n.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>h?d=h/s:h=d*s),o.minWidth=Math.min(l,h),o.minHeight=Math.min(c,d),o.maxWidth=h,o.maxHeight=d}t&&(r?(o.minLeft=Math.max(0,n.left),o.minTop=Math.max(0,n.top),o.maxLeft=Math.min(i.width,n.left+n.width)-o.width,o.maxTop=Math.min(i.height,n.top+n.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&Li(this.face,Na,a.width>=t.width&&a.height>=t.height?ya:wa),xi(this.cropBox,gi({width:a.width,height:a.height},Ii({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Oi(this.element,$a,this.getData())}},Fi={initPreview:function(){var e=this.element,t=this.crossOrigin,a=this.options.preview,i=t?this.crossOriginUrl:this.url,n=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=n,this.viewBox.appendChild(o),this.viewBoxImage=o,a){var r=a;"string"==typeof a?r=e.ownerDocument.querySelectorAll(a):a.querySelector&&(r=[a]),this.previews=r,vi(r,(function(e){var a=document.createElement("img");Li(e,Pa,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(a.crossOrigin=t),a.src=i,a.alt=n,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(a)}))}},resetPreview:function(){vi(this.previews,(function(e){var t=Si(e,Pa);xi(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(hi(e[t]))try{delete e[t]}catch(a){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(a){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Bi(t)))}(e,Pa)}))},preview:function(){var e=this.imageData,t=this.canvasData,a=this.cropBoxData,i=a.width,n=a.height,o=e.width,r=e.height,s=a.left-t.left-e.left,l=a.top-t.top-e.top;this.cropped&&!this.disabled&&(xi(this.viewBoxImage,gi({width:o,height:r},Ii(gi({translateX:-s,translateY:-l},e)))),vi(this.previews,(function(t){var a=Si(t,Pa),c=a.width,h=a.height,d=c,u=h,p=1;i&&(u=n*(p=c/i)),n&&u>h&&(d=i*(p=h/n),u=h),xi(t,{width:d,height:u}),xi(t.getElementsByTagName("img")[0],gi({width:o*p,height:r*p},Ii(gi({translateX:-s*p,translateY:-l*p},e))))})))}},Vi={bind:function(){var e=this.element,t=this.options,a=this.cropper;pi(t.cropstart)&&Ti(e,Ua,t.cropstart),pi(t.cropmove)&&Ti(e,Ya,t.cropmove),pi(t.cropend)&&Ti(e,Xa,t.cropend),pi(t.crop)&&Ti(e,$a,t.crop),pi(t.zoom)&&Ti(e,Ja,t.zoom),Ti(a,Va,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Ti(a,Qa,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ti(a,Fa,this.onDblclick=this.dblclick.bind(this)),Ti(e.ownerDocument,qa,this.onCropMove=this.cropMove.bind(this)),Ti(e.ownerDocument,Za,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Ti(window,Ga,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,a=this.cropper;pi(t.cropstart)&&_i(e,Ua,t.cropstart),pi(t.cropmove)&&_i(e,Ya,t.cropmove),pi(t.cropend)&&_i(e,Xa,t.cropend),pi(t.crop)&&_i(e,$a,t.crop),pi(t.zoom)&&_i(e,Ja,t.zoom),_i(a,Va,this.onCropStart),t.zoomable&&t.zoomOnWheel&&_i(a,Qa,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&_i(a,Fa,this.onDblclick),_i(e.ownerDocument,qa,this.onCropMove),_i(e.ownerDocument,Za,this.onCropEnd),t.responsive&&_i(window,Ga,this.onResize)}},qi={resize:function(){if(!this.disabled){var e,t,a=this.options,i=this.container,n=this.containerData,o=i.offsetWidth/n.width,r=i.offsetHeight/n.height,s=Math.abs(o-1)>Math.abs(r-1)?o:r;if(1!==s)a.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),a.restore&&(this.setCanvasData(vi(e,(function(t,a){e[a]=t*s}))),this.setCropBoxData(vi(t,(function(e,a){t[a]=e*s}))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===Wa||this.setDragMode((e=this.dragBox,t=Ea,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?Aa:Ia))},wheel:function(e){var t=this,a=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*a,e)))},cropStart:function(e){var t=e.buttons,a=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(si(t)&&1!==t||si(a)&&0!==a||e.ctrlKey))){var i,n=this.options,o=this.pointers;e.changedTouches?vi(e.changedTouches,(function(e){o[e.identifier]=Ai(e)})):o[e.pointerId||0]=Ai(e),i=Object.keys(o).length>1&&n.zoomable&&n.zoomOnTouch?xa:Si(e.target,Na),ti.test(i)&&!1!==Oi(this.element,Ua,{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,i===ba&&(this.cropping=!0,Ci(this.dragBox,ja)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var a=this.pointers;e.preventDefault(),!1!==Oi(this.element,Ya,{originalEvent:e,action:t})&&(e.changedTouches?vi(e.changedTouches,(function(e){gi(a[e.identifier]||{},Ai(e,!0))})):gi(a[e.pointerId||0]||{},Ai(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,a=this.pointers;e.changedTouches?vi(e.changedTouches,(function(e){delete a[e.identifier]})):delete a[e.pointerId||0],t&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,Mi(this.dragBox,ja,this.cropped&&this.options.modal)),Oi(this.element,Xa,{originalEvent:e,action:t}))}}},Zi={change:function(e){var t,a=this.options,i=this.canvasData,n=this.containerData,o=this.cropBoxData,r=this.pointers,s=this.action,l=a.aspectRatio,c=o.left,h=o.top,d=o.width,u=o.height,p=c+d,f=h+u,m=0,v=0,g=n.width,w=n.height,b=!0;!l&&e.shiftKey&&(l=d&&u?d/u:1),this.limited&&(m=o.minLeft,v=o.minTop,g=m+Math.min(n.width,i.width,i.left+i.width),w=v+Math.min(n.height,i.height,i.top+i.height));var y=r[Object.keys(r)[0]],x={x:y.endX-y.startX,y:y.endY-y.startY},C=function(e){switch(e){case Ca:p+x.x>g&&(x.x=g-p);break;case ka:c+x.x<m&&(x.x=m-c);break;case Da:h+x.y<v&&(x.y=v-h);break;case Ma:f+x.y>w&&(x.y=w-f)}};switch(s){case wa:c+=x.x,h+=x.y;break;case Ca:if(x.x>=0&&(p>=g||l&&(h<=v||f>=w))){b=!1;break}C(Ca),(d+=x.x)<0&&(s=ka,c-=d=-d),l&&(u=d/l,h+=(o.height-u)/2);break;case Da:if(x.y<=0&&(h<=v||l&&(c<=m||p>=g))){b=!1;break}C(Da),u-=x.y,h+=x.y,u<0&&(s=Ma,h-=u=-u),l&&(d=u*l,c+=(o.width-d)/2);break;case ka:if(x.x<=0&&(c<=m||l&&(h<=v||f>=w))){b=!1;break}C(ka),d-=x.x,c+=x.x,d<0&&(s=Ca,c-=d=-d),l&&(u=d/l,h+=(o.height-u)/2);break;case Ma:if(x.y>=0&&(f>=w||l&&(c<=m||p>=g))){b=!1;break}C(Ma),(u+=x.y)<0&&(s=Da,h-=u=-u),l&&(d=u*l,c+=(o.width-d)/2);break;case Ba:if(l){if(x.y<=0&&(h<=v||p>=g)){b=!1;break}C(Da),u-=x.y,h+=x.y,d=u*l}else C(Da),C(Ca),x.x>=0?p<g?d+=x.x:x.y<=0&&h<=v&&(b=!1):d+=x.x,x.y<=0?h>v&&(u-=x.y,h+=x.y):(u-=x.y,h+=x.y);d<0&&u<0?(s=Ra,h-=u=-u,c-=d=-d):d<0?(s=Sa,c-=d=-d):u<0&&(s=La,h-=u=-u);break;case Sa:if(l){if(x.y<=0&&(h<=v||c<=m)){b=!1;break}C(Da),u-=x.y,h+=x.y,d=u*l,c+=o.width-d}else C(Da),C(ka),x.x<=0?c>m?(d-=x.x,c+=x.x):x.y<=0&&h<=v&&(b=!1):(d-=x.x,c+=x.x),x.y<=0?h>v&&(u-=x.y,h+=x.y):(u-=x.y,h+=x.y);d<0&&u<0?(s=La,h-=u=-u,c-=d=-d):d<0?(s=Ba,c-=d=-d):u<0&&(s=Ra,h-=u=-u);break;case Ra:if(l){if(x.x<=0&&(c<=m||f>=w)){b=!1;break}C(ka),d-=x.x,c+=x.x,u=d/l}else C(Ma),C(ka),x.x<=0?c>m?(d-=x.x,c+=x.x):x.y>=0&&f>=w&&(b=!1):(d-=x.x,c+=x.x),x.y>=0?f<w&&(u+=x.y):u+=x.y;d<0&&u<0?(s=Ba,h-=u=-u,c-=d=-d):d<0?(s=La,c-=d=-d):u<0&&(s=Sa,h-=u=-u);break;case La:if(l){if(x.x>=0&&(p>=g||f>=w)){b=!1;break}C(Ca),u=(d+=x.x)/l}else C(Ma),C(Ca),x.x>=0?p<g?d+=x.x:x.y>=0&&f>=w&&(b=!1):d+=x.x,x.y>=0?f<w&&(u+=x.y):u+=x.y;d<0&&u<0?(s=Sa,h-=u=-u,c-=d=-d):d<0?(s=Ra,c-=d=-d):u<0&&(s=Ba,h-=u=-u);break;case ya:this.move(x.x,x.y),b=!1;break;case xa:this.zoom(function(e){var t=ra({},e),a=0;return vi(e,(function(e,i){delete t[i],vi(t,(function(t){var i=Math.abs(e.startX-t.startX),n=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),r=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+n*n),l=(Math.sqrt(o*o+r*r)-s)/s;Math.abs(l)>Math.abs(a)&&(a=l)}))})),a}(r),e),b=!1;break;case ba:if(!x.x||!x.y){b=!1;break}t=zi(this.cropper),c=y.startX-t.left,h=y.startY-t.top,d=o.minWidth,u=o.minHeight,x.x>0?s=x.y>0?La:Ba:x.x<0&&(c-=d,s=x.y>0?Ra:Sa),x.y<0&&(h-=u),this.cropped||(ki(this.cropBox,Ta),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(o.width=d,o.height=u,o.left=c,o.top=h,this.action=s,this.renderCropBox()),vi(r,(function(e){e.startX=e.endX,e.startY=e.endY}))}},Ki={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ci(this.dragBox,ja),ki(this.cropBox,Ta),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=gi({},this.initialImageData),this.canvasData=gi({},this.initialCanvasData),this.cropBoxData=gi({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(gi(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ki(this.dragBox,ja),Ci(this.cropBox,Ta)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,vi(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ki(this.cropper,_a)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ci(this.cropper,_a)),this},destroy:function(){var e=this.element;return e[ga]?(e[ga]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,i=a.left,n=a.top;return this.moveTo(ci(e)?e:i+Number(e),ci(t)?t:n+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(si(e)&&(a.left=e,i=!0),si(t)&&(a.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var a=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(a.width*e/a.naturalWidth,null,t)},zoomTo:function(e,t,a){var i=this.options,n=this.canvasData,o=n.width,r=n.height,s=n.naturalWidth,l=n.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,h=l*e;if(!1===Oi(this.element,Ja,{ratio:e,oldRatio:o/s,originalEvent:a}))return this;if(a){var d=this.pointers,u=zi(this.cropper),p=d&&Object.keys(d).length?function(e){var t=0,a=0,i=0;return vi(e,(function(e){var n=e.startX,o=e.startY;t+=n,a+=o,i+=1})),{pageX:t/=i,pageY:a/=i}}(d):{pageX:a.pageX,pageY:a.pageY};n.left-=(c-o)*((p.pageX-u.left-n.left)/o),n.top-=(h-r)*((p.pageY-u.top-n.top)/r)}else ui(t)&&si(t.x)&&si(t.y)?(n.left-=(c-o)*((t.x-n.left)/o),n.top-=(h-r)*((t.y-n.top)/r)):(n.left-=(c-o)/2,n.top-=(h-r)/2);n.width=c,n.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return si(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,si(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(si(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(si(e)&&(a.scaleX=e,i=!0),si(t)&&(a.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,i=this.imageData,n=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-n.left,y:o.top-n.top,width:o.width,height:o.height};var r=i.width/i.naturalWidth;if(vi(e,(function(t,a){e[a]=t/r})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return a.rotatable&&(e.rotate=i.rotate||0),a.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,a=this.imageData,i=this.canvasData,n={};if(this.ready&&!this.disabled&&ui(e)){var o=!1;t.rotatable&&si(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,o=!0),t.scalable&&(si(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,o=!0),si(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var r=a.width/a.naturalWidth;si(e.x)&&(n.left=e.x*r+i.left),si(e.y)&&(n.top=e.y*r+i.top),si(e.width)&&(n.width=e.width*r),si(e.height)&&(n.height=e.height*r),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?gi({},this.containerData):{}},getImageData:function(){return this.sized?gi({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&vi(["left","top","width","height","naturalWidth","naturalHeight"],(function(a){t[a]=e[a]})),t},setCanvasData:function(e){var t=this.canvasData,a=t.aspectRatio;return this.ready&&!this.disabled&&ui(e)&&(si(e.left)&&(t.left=e.left),si(e.top)&&(t.top=e.top),si(e.width)?(t.width=e.width,t.height=e.width/a):si(e.height)&&(t.height=e.height,t.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,a,i=this.cropBoxData,n=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ui(e)&&(si(e.left)&&(i.left=e.left),si(e.top)&&(i.top=e.top),si(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),si(e.height)&&e.height!==i.height&&(a=!0,i.height=e.height),n&&(t?i.height=i.width/n:a&&(i.width=i.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,a=function(e,t,a,i){var n=t.aspectRatio,o=t.naturalWidth,r=t.naturalHeight,s=t.rotate,l=void 0===s?0:s,c=t.scaleX,h=void 0===c?1:c,d=t.scaleY,u=void 0===d?1:d,p=a.aspectRatio,f=a.naturalWidth,m=a.naturalHeight,v=i.fillColor,g=void 0===v?"transparent":v,w=i.imageSmoothingEnabled,b=void 0===w||w,y=i.imageSmoothingQuality,x=void 0===y?"low":y,C=i.maxWidth,k=void 0===C?1/0:C,M=i.maxHeight,D=void 0===M?1/0:M,B=i.minWidth,S=void 0===B?0:B,L=i.minHeight,R=void 0===L?0:L,E=document.createElement("canvas"),_=E.getContext("2d"),T=Wi({aspectRatio:p,width:k,height:D}),O=Wi({aspectRatio:p,width:S,height:R},"cover"),z=Math.min(T.width,Math.max(O.width,f)),j=Math.min(T.height,Math.max(O.height,m)),H=Wi({aspectRatio:n,width:k,height:D}),N=Wi({aspectRatio:n,width:S,height:R},"cover"),P=Math.min(H.width,Math.max(N.width,o)),I=Math.min(H.height,Math.max(N.height,r)),A=[-P/2,-I/2,P,I];return E.width=bi(z),E.height=bi(j),_.fillStyle=g,_.fillRect(0,0,z,j),_.save(),_.translate(z/2,j/2),_.rotate(l*Math.PI/180),_.scale(h,u),_.imageSmoothingEnabled=b,_.imageSmoothingQuality=x,_.drawImage.apply(_,[e].concat(da(A.map((function(e){return Math.floor(bi(e))}))))),_.restore(),E}(this.image,this.imageData,t,e);if(!this.cropped)return a;var i=this.getData(e.rounded),n=i.x,o=i.y,r=i.width,s=i.height,l=a.width/Math.floor(t.naturalWidth);1!==l&&(n*=l,o*=l,r*=l,s*=l);var c=r/s,h=Wi({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=Wi({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),u=Wi({aspectRatio:c,width:e.width||(1!==l?a.width:r),height:e.height||(1!==l?a.height:s)}),p=u.width,f=u.height;p=Math.min(h.width,Math.max(d.width,p)),f=Math.min(h.height,Math.max(d.height,f));var m=document.createElement("canvas"),v=m.getContext("2d");m.width=bi(p),m.height=bi(f),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,p,f);var g=e.imageSmoothingEnabled,w=void 0===g||g,b=e.imageSmoothingQuality;v.imageSmoothingEnabled=w,b&&(v.imageSmoothingQuality=b);var y,x,C,k,M,D,B=a.width,S=a.height,L=n,R=o;L<=-r||L>B?(L=0,y=0,C=0,M=0):L<=0?(C=-L,L=0,M=y=Math.min(B,r+L)):L<=B&&(C=0,M=y=Math.min(r,B-L)),y<=0||R<=-s||R>S?(R=0,x=0,k=0,D=0):R<=0?(k=-R,R=0,D=x=Math.min(S,s+R)):R<=S&&(k=0,D=x=Math.min(s,S-R));var E=[L,R,y,x];if(M>0&&D>0){var _=p/r;E.push(C*_,k*_,M*_,D*_)}return v.drawImage.apply(v,[a].concat(da(E.map((function(e){return Math.floor(bi(e))}))))),m},setAspectRatio:function(e){var t=this.options;return this.disabled||ci(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,a=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var n=e===Ia,o=t.movable&&e===Aa;e=n||o?e:Wa,t.dragMode=e,Li(a,Na,e),Mi(a,Ea,n),Mi(a,Ha,o),t.cropBoxMovable||(Li(i,Na,e),Mi(i,Ea,n),Mi(i,Ha,o))}return this}},Gi=fa.Cropper,Qi=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!ni.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=gi({},oi,ui(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return t=e,i=[{key:"noConflict",value:function(){return window.Cropper=Gi,e}},{key:"setDefaults",value:function(e){gi(oi,ui(e)&&e)}}],(a=[{key:"init",value:function(){var e,t=this.element,a=t.tagName.toLowerCase();if(!t[ga]){if(t[ga]=this,"img"===a){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===a&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var a=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(ai.test(e))ii.test(e)?this.read((n=e.replace(Xi,""),o=atob(n),r=new ArrayBuffer(o.length),vi(s=new Uint8Array(r),(function(e,t){s[t]=o.charCodeAt(t)})),r)):this.clone();else{var n,o,r,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){l.getResponseHeader("content-type")!==ei&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&Ni(e)&&a.crossOrigin&&(e=Pi(e)),l.open("GET",e,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===a.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,a=this.imageData,i=Yi(e),n=0,o=1,r=1;if(i>1){this.url=function(e,t){for(var a=[],i=new Uint8Array(e);i.length>0;)a.push($i.apply(null,mi(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}(e,ei);var s=function(e){var t=0,a=1,i=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90}return{rotate:t,scaleX:a,scaleY:i}}(i);n=s.rotate,o=s.scaleX,r=s.scaleY}t.rotatable&&(a.rotate=n),t.scalable&&(a.scaleX=o,a.scaleY=r),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,a=e.crossOrigin,i=t;this.options.checkCrossOrigin&&Ni(t)&&(a||(a="anonymous"),i=Pi(t)),this.crossOrigin=a,this.crossOriginUrl=i;var n=document.createElement("img");a&&(n.crossOrigin=a),n.src=i||t,n.alt=e.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),Ci(n,Oa),e.parentNode.insertBefore(n,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var a=fa.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(fa.navigator.userAgent),i=function(t,a){gi(e.imageData,{naturalWidth:t,naturalHeight:a,aspectRatio:t/a}),e.initialImageData=gi({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||a){var n=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){i(n.width,n.height),a||o.removeChild(n)},n.src=t.src,a||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(n))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,a=this.image,i=e.parentNode,n=document.createElement("div");n.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=n.querySelector(".".concat(ga,"-container")),r=o.querySelector(".".concat(ga,"-canvas")),s=o.querySelector(".".concat(ga,"-drag-box")),l=o.querySelector(".".concat(ga,"-crop-box")),c=l.querySelector(".".concat(ga,"-face"));this.container=i,this.cropper=o,this.canvas=r,this.dragBox=s,this.cropBox=l,this.viewBox=o.querySelector(".".concat(ga,"-view-box")),this.face=c,r.appendChild(a),Ci(e,Ta),i.insertBefore(o,e.nextSibling),ki(a,Oa),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Ci(l,Ta),t.guides||Ci(l.getElementsByClassName("".concat(ga,"-dashed")),Ta),t.center||Ci(l.getElementsByClassName("".concat(ga,"-center")),Ta),t.background&&Ci(o,"".concat(ga,"-bg")),t.highlight||Ci(c,za),t.cropBoxMovable&&(Ci(c,Ha),Li(c,Na,wa)),t.cropBoxResizable||(Ci(l.getElementsByClassName("".concat(ga,"-line")),Ta),Ci(l.getElementsByClassName("".concat(ga,"-point")),Ta)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),pi(t.ready)&&Ti(e,Ka,t.ready,{once:!0}),Oi(e,Ka)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),ki(this.element,Ta)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&ca(t.prototype,a),i&&ca(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,i}();gi(Qi.prototype,Ui,Fi,Vi,qi,Zi,Ki);const Ji=(e,t)=>{const a=p(!1),i=p();function n(t){t=void 0===t?o:t,e.realTimePreview&&l(t)}const o=p();let r=p(e.circled),s=p();function l(e){if(!e.value)return;(r.value?function(e){const t=e.value.getCroppedCanvas(),a=document.createElement("canvas"),i=a.getContext("2d"),n=t.width,o=t.height;return a.width=n,a.height=o,i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,n,o),i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(n/2,o/2,Math.min(o,n)/2,0,2*Math.PI,!0),i.fill(),a}(e):e.value.getCroppedCanvas()).toBlob((e=>{if(!e)return;const a=new FileReader;a.readAsDataURL(e),a.onloadend=a=>{var i,n,r,l;(null==(i=a.target)?void 0:i.result)&&e&&(s.value=null==(n=a.target)?void 0:n.result,t("cropper",{base64:null==(r=a.target)?void 0:r.result,blob:e,info:{size:e.size,...null==(l=o.value)?void 0:l.getData()}}))},a.onerror=()=>{t("error")}}))}const c=Ee(n,80),h={aspectRatio:1,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCrop:!0,background:!0,highlight:!0,center:!0,responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,scalable:!0,modal:!0,guides:!0,movable:!0,rotatable:!0};return{croppered:l,init:async function(){const r=L(i);r&&(o.value=new Qi(r,{...h,ready:()=>{a.value=!0,n(o),setTimeout((()=>t("readied",o.value)),400)},crop(){c()},zoom(){c()},cropmove(){c()},...e.options}))},cropper:o,inCircled:r,imgBase64:s,isReady:a,realTimeCroppered:n,imgElRef:i}};function en(e,t){const a=e.split(",")[1],i=atob(a),n=new ArrayBuffer(i.length),o=new Uint8Array(n);for(let h=0;h<i.length;h++)o[h]=i.charCodeAt(h);const r=e.split(",")[0].split(":")[1].split(";")[0],s=new Blob([n],{type:r}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=t,c.click(),URL.revokeObjectURL(l)}const tn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const an={render:function(e,t){return x(),_("svg",tn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8m756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2"},null,-1)]))}},nn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const on={render:function(e,t){return x(),_("svg",nn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13M878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8"},null,-1)]))}},rn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"};const sn={render:function(e,t){return x(),_("svg",rn,t[0]||(t[0]=[D("path",{d:"m296.992 216.992-272 272L3.008 512l21.984 23.008 272 272 46.016-46.016L126.016 544h772L680.992 760.992l46.016 46.016 272-272L1020.992 512l-21.984-23.008-272-272-46.048 46.048L898.016 480h-772l216.96-216.992z"},null,-1)]))}},ln={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"};const cn={render:function(e,t){return x(),_("svg",ln,t[0]||(t[0]=[D("path",{d:"m512 67.008-23.008 21.984-256 256 46.048 46.048L480 190.016v644L279.008 632.96l-46.048 46.08 256 256 23.008 21.984 23.008-21.984 256-256-46.016-46.016L544 834.016v-644l200.992 200.96 46.016-45.984-256-256z"},null,-1)]))}},hn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const dn={render:function(e,t){return x(),_("svg",hn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M868 545.5 536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2"},null,-1)]))}},un={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"};const pn={render:function(e,t){return x(),_("svg",un,t[0]||(t[0]=[_e('<path d="M956.8 988.8H585.6c-16 0-25.6-9.6-25.6-28.8V576c0-16 9.6-28.8 25.6-28.8h371.2c16 0 25.6 9.6 25.6 28.8v384c0 16-9.6 28.8-25.6 28.8M608 937.6h326.4V598.4H608zm-121.6 44.8C262.4 982.4 144 848 144 595.2c0-19.2 9.6-28.8 25.6-28.8s25.6 12.8 25.6 28.8c0 220.8 96 326.4 288 326.4 16 0 25.6 12.8 25.6 28.8s-6.4 32-22.4 32"></path><path d="M262.4 694.4c-6.4 0-9.6-3.2-16-6.4L160 601.6c-9.6-9.6-9.6-22.4 0-28.8s22.4-9.6 28.8 0l86.4 86.4c9.6 9.6 9.6 22.4 0 28.8-3.2 3.2-6.4 6.4-12.8 6.4"></path><path d="M86.4 694.4c-6.4 0-9.6-3.2-16-6.4-9.6-9.6-9.6-22.4 0-28.8l86.4-86.4c9.6-9.6 22.4-9.6 28.8 0 9.6 9.6 9.6 22.4 0 28.8L99.2 688c-3.2 3.2-6.4 6.4-12.8 6.4m790.4-249.6c-16 0-28.8-12.8-28.8-32 0-224-99.2-336-300.8-336-16 0-28.8-12.8-28.8-32s9.6-32 28.8-32c233.6 0 355.2 137.6 355.2 396.8 0 22.4-9.6 35.2-25.6 35.2"></path><path d="M876.8 448c-6.4 0-9.6-3.2-16-6.4l-86.4-86.4c-9.6-9.6-9.6-22.4 0-28.8s22.4-9.6 28.8 0l86.4 86.4c9.6 9.6 9.6 22.4 0 28.8 0 3.2-6.4 6.4-12.8 6.4"></path><path d="M876.8 448c-6.4 0-9.6-3.2-16-6.4-9.6-9.6-9.6-22.4 0-28.8l86.4-86.4c9.6-9.6 22.4-9.6 28.8 0s9.6 22.4 0 28.8l-86.4 86.4c-3.2 3.2-6.4 6.4-12.8 6.4M288 524.8C156.8 524.8 48 416 48 278.4S156.8 35.2 288 35.2 528 144 528 281.6 419.2 524.8 288 524.8m-3.2-432c-99.2 0-179.2 83.2-179.2 185.6S185.6 464 284.8 464 464 380.8 464 278.4 384 92.8 284.8 92.8"></path>',5)]))}},fn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const mn={render:function(e,t){return x(),_("svg",fn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2"},null,-1)]))}},vn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const gn={render:function(e,t){return x(),_("svg",vn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8"},null,-1)]))}},wn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const bn={render:function(e,t){return x(),_("svg",wn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8"},null,-1)]))}},yn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const xn={render:function(e,t){return x(),_("svg",yn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M869 487.8 491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4"},null,-1)]))}},Cn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const kn={render:function(e,t){return x(),_("svg",Cn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32m-44 402H188V494h440z"},null,-1),D("path",{fill:"currentColor",d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8 11 40.7 14 82.7 8.9 124.8-.7 5.4-1.4 10.8-2.4 16.1h74.9c14.8-103.6-11.3-213-81-302.3"},null,-1)]))}},Mn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const Dn={render:function(e,t){return x(),_("svg",Mn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8m284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11M696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430"},null,-1)]))}},Bn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const Sn={render:function(e,t){return x(),_("svg",Bn,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2-69.6 89.2-95.7 198.6-81.1 302.4h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8"},null,-1),D("path",{fill:"currentColor",d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32m-44 402H396V494h440z"},null,-1)]))}},Ln={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"};const Rn={render:function(e,t){return x(),_("svg",Ln,t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8m284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11M696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430"},null,-1)]))}},En={class:"flex flex-wrap w-[60px] justify-between"},_n=r({__name:"menuContent",props:{imgSrc:{type:String,required:!0},alt:{type:String},circled:{type:Boolean,default:!1},isClose:{type:Boolean,default:!0},realTimePreview:{type:Boolean,default:!0},height:{type:[String,Number],default:"360px"},crossorigin:{type:String,default:void 0},imageStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},imgBase64:{type:String,default:""},cropper:{type:Object,default:()=>({})}},emits:["error","cropper","readied"],setup(e,{emit:t}){const a=Oe,i=Te,n=t,o=e;let{init:r,realTimeCroppered:s,inCircled:l}=Ji(o,n),c=1,h=1,d=p(o.cropper);function u(e,t){var a,i,n,o;"scaleX"===e&&(c=t=-1===c?1:-1),"scaleY"===e&&(h=t=-1===h?1:-1),t&&Array.isArray(t)?null==(i=null==(a=d.value)?void 0:a[e])||i.call(a,...t):null==(o=null==(n=d.value)?void 0:n[e])||o.call(n,t)}const f=p(o.imgSrc),m=p(o.imgBase64);function g(e){const t=new FileReader;return t.readAsDataURL(e),f.value="",t.onload=e=>{var t;f.value=null==(t=e.target)?void 0:t.result},t.onloadend=()=>{r()},!1}function w(){l.value=!l.value,s(d)}const b=v((()=>["p-[6px]","h-[30px]","w-[30px]","outline-none","rounded-[4px]","cursor-pointer","hover:bg-[rgba(0,0,0,0.06)]"]));return(e,t)=>{const n=ia;return x(),_("div",En,[k(n,{accept:"image/*","show-file-list":!1,"before-upload":g},{default:C((()=>[V(k(L(on),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"上传",placement:"left-start"}]])])),_:1}),V(k(L(bn),{class:S(b.value),onClick:t[0]||(t[0]=()=>L(en)(m.value,"cropping.png"))},null,8,["class"]),[[L(i),{content:"下载",placement:"right-start"}]]),V(k(L(pn),{class:S(b.value),onClick:w},null,8,["class"]),[[L(i),{content:"圆形、矩形裁剪",placement:"left-start"}]]),V(k(L(an),{class:S(b.value),onClick:t[1]||(t[1]=()=>u("reset"))},null,8,["class"]),[[L(i),{content:"重置",placement:"right-start"}]]),V(k(L(dn),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"上移（可长按）",placement:"left-start"}],[L(a),[()=>u("move",[0,-10]),"0:100"]]]),V(k(L(mn),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"下移（可长按）",placement:"right-start"}],[L(a),[()=>u("move",[0,10]),"0:100"]]]),V(k(L(gn),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"左移（可长按）",placement:"left-start"}],[L(a),[()=>u("move",[-10,0]),"0:100"]]]),V(k(L(xn),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"右移（可长按）",placement:"right-start"}],[L(a),[()=>u("move",[10,0]),"0:100"]]]),V(k(L(sn),{class:S(b.value),onClick:t[2]||(t[2]=()=>u("scaleX",-1))},null,8,["class"]),[[L(i),{content:"水平翻转",placement:"left-start"}]]),V(k(L(cn),{class:S(b.value),onClick:t[3]||(t[3]=()=>u("scaleY",-1))},null,8,["class"]),[[L(i),{content:"垂直翻转",placement:"right-start"}]]),V(k(L(kn),{class:S(b.value),onClick:t[4]||(t[4]=()=>u("rotate",-45))},null,8,["class"]),[[L(i),{content:"逆时针旋转",placement:"left-start"}]]),V(k(L(Sn),{class:S(b.value),onClick:t[5]||(t[5]=()=>u("rotate",45))},null,8,["class"]),[[L(i),{content:"顺时针旋转",placement:"right-start"}]]),V(k(L(Dn),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"放大（可长按）",placement:"left-start"}],[L(a),[()=>u("zoom",.1),"0:100"]]]),V(k(L(Rn),{class:S(b.value)},null,8,["class"]),[[L(i),{content:"缩小（可长按）",placement:"right-start"}],[L(a),[()=>u("zoom",-.1),"0:100"]]])])}}}),Tn=["src","alt","crossorigin"],On=r({__name:"index",props:{imgSrc:{type:String,required:!0},alt:{type:String},circled:{type:Boolean,default:!1},isClose:{type:Boolean,default:!0},realTimePreview:{type:Boolean,default:!0},height:{type:[String,Number],default:"360px"},crossorigin:{type:String,default:void 0},imageStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},emits:["error","cropper","readied"],setup(e,{emit:t}){const a=t,i=e;let{init:n,cropper:o,isReady:r,imgBase64:s,imgElRef:l,inCircled:c}=Ji(i,a);const h=p(i.imgSrc),d=v((()=>[ee().class,{"re-circled":c.value}])),u=v((()=>({height:i.height,maxWidth:"100%",...i.imageStyle}))),f=v((()=>({height:`${i.height}`.replace(/px/,"")+"px"}))),m=p(i.isClose),g=p(),b=e=>{a("error",e)},y=e=>{a("cropper",e)};w((()=>{n()})),ze((()=>{var e;null==(e=o.value)||e.destroy(),r.value=!1,o.value=null,s.value=""}));const C=()=>{a("readied")};return(t,a)=>(x(),_("div",{ref_key:"tippyElRef",ref:g,class:S(d.value),style:B(f.value),onContextmenu:a[0]||(a[0]=e=>function(e){e.preventDefault();const t=je(_n,{...i,imgBase64:s.value,cropper:o.value,onerror:b,oncropper:y,onreadied:C}),{show:a,setProps:n,destroy:r,state:l}=He(g,{content:t,arrow:!1,theme:"light",trigger:"manual",interactive:!0,appendTo:"parent",placement:"bottom-end"});if(n({getReferenceClientRect:()=>({width:0,height:0,top:e.clientY,bottom:e.clientY,left:e.clientX,right:e.clientX})}),a(),m.value){if(!l.value.isShown&&!l.value.isVisible)return;Ne(g,"click",r)}}(e))},[V(D("img",{ref_key:"imgElRef",ref:l,style:B(u.value),src:h.value,alt:e.alt,crossorigin:e.crossorigin},null,12,Tn),[[q,L(r)]])],38))}}),zn={"element-loading-background":"transparent"},jn={class:"w-[18vw]"},Hn={class:"mt-1 text-center"},Nn={class:"flex flex-wrap justify-center items-center text-center"},Pn={key:1,class:"mt-1"},In=r({name:"ReCropperPreview",__name:"index",props:{imgSrc:String},emits:["cropper"],setup(e,{expose:t,emit:a}){const i=p(!1),n=p(),o=p(""),r=p(),s=a;function l({base64:e,blob:t,info:a}){r.value=a,o.value=e,s("cropper",{base64:e,blob:t,info:a})}const c=p();return t({hidePopover:function(){c.value.hide()}}),(t,a)=>{const s=zt,h=Ue,d=mt;return V((x(),_("div",zn,[k(h,{ref_key:"popoverRef",ref:c,visible:i.value,placement:"right",width:"18vw"},{reference:C((()=>[D("div",jn,[k(On,{ref_key:"refCropper",ref:n,imgSrc:e.imgSrc,circled:"",onCropper:l,onReadied:a[0]||(a[0]=e=>i.value=!0)},null,8,["imgSrc"]),V(D("p",Hn," 温馨提示：右键上方裁剪区可开启功能菜单 ",512),[[q,i.value]])])])),default:C((()=>[D("div",Nn,[o.value?(x(),y(s,{key:0,src:o.value,"preview-src-list":Array.of(o.value),fit:"cover"},null,8,["src","preview-src-list"])):E("",!0),r.value?(x(),_("div",Pn,[D("p",null," 图像大小："+A(parseInt(r.value.width))+" × "+A(parseInt(r.value.height))+"像素 ",1),D("p",null," 文件大小："+A(L(na)(r.value.size))+"（"+A(r.value.size)+" 字节） ",1)])):E("",!0)])])),_:1},8,["visible"])])),[[d,!i.value]])}}});const An={width:24,height:24,body:'<path fill="currentColor" d="M3 19h18v2H3v-2ZM13 5.828V17h-2V5.828L4.929 11.9l-1.414-1.414L12 2l8.485 8.485l-1.414 1.415L13 5.827Z"/>'},Wn={width:24,height:24,body:'<path fill="currentColor" d="M12 14v2a6 6 0 0 0-6 6H4a8 8 0 0 1 8-8Zm0-1c-3.315 0-6-2.685-6-6s2.685-6 6-6s6 2.685 6 6s-2.685 6-6 6Zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4Zm9 6h1v5h-8v-5h1v-1a3 3 0 1 1 6 0v1Zm-2 0v-1a1 1 0 1 0-2 0v1h2Z"/>'},$n={width:24,height:24,body:'<path fill="currentColor" d="M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1ZM5 10v10h14V10H5Zm6 4h2v2h-2v-2Zm-4 0h2v2H7v-2Zm8 0h2v2h-2v-2Zm1-6V7a4 4 0 0 0-8 0v1h8Z"/>'},Xn={width:1024,height:1024,body:'<path fill="currentColor" d="M176 416a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224z"/>'},Yn={class:S(["flex","justify-between"])},Un={class:S(["w-[calc(100%-200px)]"])},Fn={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},Vn={class:"flex-auto"},qn={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},Zn=["src"],Kn=Dt(r({name:"SysetemUser",__name:"index",setup(e){const t=p(),a=p(),i=p(),{treeData:n,treeLoading:o,onTreeSelect:r,getTreeData:s,form:l,onSearch:c,loading:h,resetForm:d,columns:u,selectedNum:f,dataList:m,openDialog:g,handleDelete:b,handleUpdate:M,handleUpload:B,handleReset:R,handleRole:T,buttonClass:O,handleSelectionChange:z}=function(e,t){const a=Pe({deptId:"",username:"",phone:"",status:""}),i=Pe({total:0,pageSize:10,currentPage:1,background:!0}),n=p([]),o=p(!0),r=p([]),s=p(!0);async function l(){s.value=!0;const{data:e}=await Ve(Ae(a));r.value=e.list,i.total=e.total,i.pageSize=e.pageSize,i.currentPage=e.currentPage,setTimeout((()=>{s.value=!1}),500)}const c=p(),h=p([]),d=p(0),u=p(),f=v((()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"])),m=p(),g=p(),w=Pe({newPwd:""}),b=[{color:"#e74242",text:"非常弱"},{color:"#EFBD47",text:"弱"},{color:"#ffa500",text:"一般"},{color:"#1bbf1b",text:"强"},{color:"#008000",text:"非常强"}],y=p(),x=p();return{treeData:n,treeLoading:o,form:a,onTreeSelect:function({id:e,selected:t}){a.deptId=t?e:"",l()},getTreeData:async function(){o.value=!0,l();const{data:e}=await qe();c.value=We(e),n.value=We(e),o.value=!1,h.value=(await Ze()).data},onSearch:l,loading:s,resetForm:e=>{e&&(e.resetFields(),a.deptId="",t.value.onTreeReset(),l())},columns:[{label:"勾选列",type:"selection",reserveSelection:!0,prop:"",hide:!1,fixed:!0},{label:"用户编号",prop:"id",width:90,hide:!1},{label:"用户头像",prop:"avatar",width:90,hide:!1},{label:"用户名称",prop:"username",minWidth:130,hide:!1},{label:"用户昵称",prop:"nickname",minWidth:130,hide:!1},{label:"性别",prop:"sex",minWidth:90,hide:!1},{label:"部门",prop:"dept.name",minWidth:90,hide:!1},{label:"手机号码",prop:"phone",minWidth:90,formatter:(e,t,a)=>a.slice(0,3)+"*".repeat(4)+a.slice(7),hide:!1}],dataList:r,pagination:i,selectedNum:d,openDialog:function(e="新增",t){Ie({title:`${e}用户`,props:{formInline:{title:e,higherDeptOptions:c.value,parentId:(null==t?void 0:t.dept.id)??0,nickname:(null==t?void 0:t.nickname)??"",username:(null==t?void 0:t.username)??"",password:(null==t?void 0:t.password)??"",phone:(null==t?void 0:t.phone)??"",email:(null==t?void 0:t.email)??"",sex:(null==t?void 0:t.sex)??"",status:(null==t?void 0:t.status)??1,remark:(null==t?void 0:t.remark)??""}},width:"46%",draggable:!0,closeOnClickModal:!1,contentRender:()=>je(yt,{ref:u,formInline:null}),beforeSure:(t,{options:a})=>{const i=u.value.getRef(),n=a.props.formInline;function o(){kt.success(`您${e}了用户名称为${n.username}的这条数据`),t(),l()}i.validate((e=>{e&&o()}))}})},buttonClass:f,handleDelete:function(e){kt.success(`您删除了用户编号为${e.id}的这条数据`),l()},handleUpdate:function(e){},handleUpload:function(e){Ie({title:"裁剪、上传头像",width:"40%",closeOnClickModal:!1,contentRender:()=>je(In,{ref:g,imgSrc:e.avatar||it,onCropper:e=>m.value=e}),beforeSure:e=>{e(),l()},closeCallBack:()=>g.value.hidePopover()})},handleRole:async function(e){const t=(await Fe({userId:e.id})).data??[];Ie({title:`分配 ${e.username} 用户的角色`,props:{formInline:{username:(null==e?void 0:e.username)??"",nickname:(null==e?void 0:e.nickname)??"",roleOptions:h.value??[],ids:t}},width:"400px",draggable:!0,fullscreenIcon:!0,closeOnClickModal:!1,contentRender:()=>je(xt),beforeSure:(e,{options:t})=>{t.props.formInline,e()}})},handleReset:function(e){Ie({title:`重置 ${e.username} 用户的密码`,width:"30%",draggable:!0,closeOnClickModal:!1,contentRender:()=>je(Ct,{pwdForm:w,curScore:x,pwdProgress:b}),closeCallBack:()=>w.newPwd="",beforeSure:t=>{y.value.validate((a=>{a&&(kt.success(`已成功重置 ${e.username} 用户的密码`),t(),l())}))}})},handleSelectionChange:function(e){d.value=e.length}}}(0,i);function j(){f.value=0,i.value.clearSelection()}function N(){const e=i.value.getSelectionRows();1===e.length?kt.success(`已删除用户编号为 ${e[0].id} 的数据`):kt.success(`已删除用户编号为 ${e.length} 的数据`),i.value.clearSelection(),c()}return w((()=>{s()})),(e,s)=>{const p=pt,v=lt,w=dt,P=ht,W=Xe,$=ct,X=Ye,Y=Qe,U=rt,q=ot,Z=nt,K=Ge,G=$e("motion-fade");return x(),_("div",Yn,[k(ft,{ref_key:"treeRef",ref:a,class:S(["mr-2","min-w-[200px]"]),treeData:L(n),treeLoading:L(o),onTreeSelect:L(r)},null,8,["treeData","treeLoading","onTreeSelect"]),D("div",Un,[k($,{ref_key:"formRef",ref:t,inline:!0,model:L(l),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:C((()=>[k(v,{label:"用户名称：",prop:"username"},{default:C((()=>[k(p,{modelValue:L(l).username,"onUpdate:modelValue":s[0]||(s[0]=e=>L(l).username=e),placeholder:"请输入用户名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),k(v,{label:"手机号码：",prop:"phone"},{default:C((()=>[k(p,{modelValue:L(l).phone,"onUpdate:modelValue":s[1]||(s[1]=e=>L(l).phone=e),placeholder:"请输入手机号码",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),k(v,{label:"状态：",prop:"status"},{default:C((()=>[k(P,{modelValue:L(l).status,"onUpdate:modelValue":s[2]||(s[2]=e=>L(l).status=e),placeholder:"请选择",clearable:"",class:"!w-[180px]"},{default:C((()=>[k(w,{label:"已开启",value:"1"}),k(w,{label:"已关闭",value:"0"})])),_:1},8,["modelValue"])])),_:1}),k(v,null,{default:C((()=>[k(W,{type:"primary",icon:L(Mt)("ri:search-line"),loading:L(h),onClick:L(c)},{default:C((()=>s[5]||(s[5]=[I(" 搜索 ")]))),_:1},8,["icon","loading","onClick"]),k(W,{icon:L(Mt)(L(Ke)),onClick:s[3]||(s[3]=e=>L(d)(t.value))},{default:C((()=>s[6]||(s[6]=[I(" 重置 ")]))),_:1},8,["icon"])])),_:1})])),_:1},8,["model"]),k(at,{title:"用户管理",columns:L(u),onRefresh:L(c)},{buttons:C((()=>[k(W,{type:"primary",icon:L(Mt)(L(tt)),onClick:s[4]||(s[4]=e=>L(g)())},{default:C((()=>s[7]||(s[7]=[I(" 新增用户 ")]))),_:1},8,["icon"])])),default:C((({size:e,dynamicColumns:t})=>[L(f)>0?V((x(),_("div",Fn,[D("div",Vn,[D("span",qn," 已选 "+A(L(f))+" 项 ",1),k(W,{type:"primary",text:"",onClick:j},{default:C((()=>s[8]||(s[8]=[I(" 取消选择 ")]))),_:1}),k(X,{title:"是否确认删除?",onConfirm:N},{reference:C((()=>[k(W,{type:"danger",text:"",class:"mr-1"},{default:C((()=>s[9]||(s[9]=[I(" 批量删除 ")]))),_:1})])),_:1})])])),[[G]]):E("",!0),k(K,{data:L(m),height:"250",style:{width:"100%"},onSelectionChange:L(z),ref_key:"tableRef",ref:i},{default:C((()=>[(x(!0),_(H,null,F(t,(e=>(x(),y(Y,{key:e.prop,prop:e.prop,label:e.label,type:e.type,align:"center",formatter:e.formatter},Re({_:2},["avatar"===e.prop?{name:"default",fn:C((t=>[D("img",{src:t.row[e.prop],alt:"图像",style:{width:"30px",height:"30px","border-radius":"25px"}},null,8,Zn)])),key:"0"}:"selection"===e.type?{name:"default",fn:C((()=>[])),key:"1"}:"phone"===e.prop?{name:"default",fn:C((()=>[])),key:"2"}:{name:"default",fn:C((t=>{return[I(A((a=t.row,i=e.prop,i.split(".").reduce(((e,t)=>e&&e[t]),a))),1)];var a,i})),key:"3"}]),1032,["prop","label","type","formatter"])))),128)),k(Y,{fixed:"right",label:"Operations","min-width":"120"},{default:C((({row:t})=>[k(W,{class:"reset-margin",link:"",type:"primary",size:e,icon:L(Mt)(L(Je)),onClick:e=>L(g)("修改",t)},{default:C((()=>s[10]||(s[10]=[I(" 修改 ")]))),_:2},1032,["size","icon","onClick"]),k(X,{title:`是否确认删除用户编号为${t.id}的这条数据`,onConfirm:e=>L(b)(t)},{reference:C((()=>[k(W,{class:"reset-margin",link:"",type:"primary",size:e,icon:L(Mt)(L(et))},{default:C((()=>s[11]||(s[11]=[I(" 删除 ")]))),_:2},1032,["size","icon"])])),_:2},1032,["title","onConfirm"]),k(Z,null,{dropdown:C((()=>[k(q,null,{default:C((()=>[k(U,null,{default:C((()=>[k(W,{class:S(L(O)),link:"",type:"primary",size:e,icon:L(Mt)(L(An)),onClick:e=>L(B)(t)},{default:C((()=>s[12]||(s[12]=[I(" 上传头像 ")]))),_:2},1032,["class","size","icon","onClick"])])),_:2},1024),k(U,null,{default:C((()=>[k(W,{class:S(L(O)),link:"",type:"primary",size:e,icon:L(Mt)(L($n)),onClick:e=>L(R)(t)},{default:C((()=>s[13]||(s[13]=[I(" 重置密码 ")]))),_:2},1032,["class","size","icon","onClick"])])),_:2},1024),k(U,null,{default:C((()=>[k(W,{class:S(L(O)),link:"",type:"primary",size:e,icon:L(Mt)(L(Wn)),onClick:e=>L(T)(t)},{default:C((()=>s[14]||(s[14]=[I(" 分配角色 ")]))),_:2},1032,["class","size","icon","onClick"])])),_:2},1024)])),_:2},1024)])),default:C((()=>[k(W,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:e,icon:L(Mt)(L(Xn)),onClick:e=>L(M)(t)},null,8,["size","icon","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["data","onSelectionChange"])])),_:1},8,["columns","onRefresh"])])])}}}),[["__scopeId","data-v-c2c1e6fa"]]);export{Kn as default};
