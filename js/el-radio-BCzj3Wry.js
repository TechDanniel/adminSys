import{c8 as e,B as a,ax as l,bm as t,i as o,bc as n,ba as s,be as i,l as d,j as u,f as r,ce as c,a2 as p,bh as v,cn as h,_ as f,d as m,u as b,V as g,o as y,W as k,F as C,co as x,a as N,ap as E,X as S,aC as w,r as $,Y as V,Z as L,S as _,a6 as T,bd as B,aX as M,bg as D,bn as F,y as z,v as I,q as R,a$ as A,s as P,bl as q,$ as H,a0 as K,A as U,a8 as j,aq as G,c as O,a9 as Z,w as W,H as X,p as J,aV as Q,bI as Y,C as ee,ar as ae,bf as le,x as te,al as oe,b0 as ne,a3 as se,K as ie,Q as de,bF as ue,cp as re,cq as ce,b1 as pe,cr as ve,E as he,cs as fe,ct as me,cu as be,c9 as ge,cv as ye,a4 as ke,cw as Ce,bp as xe,N as Ne,G as Ee,b8 as Se,cx as we,n as $e,D as Ve,aP as Le,cy as _e,cz as Te}from"./index-B_o8siDq.js";import{E as Be}from"./el-scrollbar-Dkahi5v9.js";import{E as Me}from"./el-checkbox-VUoa7duk.js";import{c as De,t as Fe,d as ze,E as Ie}from"./el-tag-BiUEjuzt.js";import{i as Re}from"./isEqual-CcbjmHFc.js";import{f as Ae}from"./el-form-item-jwksQNZh.js";import{d as Pe,E as qe}from"./el-input-Cf2eIeua.js";import{C as He}from"./index-CneRhBR0.js";function Ke(e){return Ae(e,5)}var Ue=1/0;const je=o({modelValue:{type:[String,Number,Boolean],default:void 0},size:i,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Ge=o({...je,border:Boolean}),Oe={[s]:e=>a(e)||l(e)||t(e),[n]:e=>a(e)||l(e)||t(e)},Ze=Symbol("radioGroupKey"),We=(e,a)=>{const l=d(),t=u(Ze,void 0),o=r((()=>!!t)),n=r((()=>c(e.value)?e.label:e.value)),i=r({get:()=>o.value?t.modelValue:e.modelValue,set(i){o.value?t.changeEvent(i):a&&a(s,i),l.value.checked=e.modelValue===n.value}}),f=p(r((()=>null==t?void 0:t.size))),m=v(r((()=>null==t?void 0:t.disabled))),b=d(!1),g=r((()=>m.value||o.value&&i.value!==n.value?-1:0));return h({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},r((()=>o.value&&c(e.value)))),{radioRef:l,isGroup:o,radioGroup:t,focus:b,size:f,disabled:m,tabIndex:g,modelValue:i,actualValue:n}},Xe=m({name:"ElRadio"});var Je=f(m({...Xe,props:Ge,emits:Oe,setup(e,{emit:a}){const l=e,t=b("radio"),{radioRef:o,radioGroup:s,focus:i,size:d,disabled:u,modelValue:r,actualValue:c}=We(l,a);function p(){_((()=>a(n,r.value)))}return(e,a)=>{var l;return y(),g("label",{class:S([N(t).b(),N(t).is("disabled",N(u)),N(t).is("focus",N(i)),N(t).is("bordered",e.border),N(t).is("checked",N(r)===N(c)),N(t).m(N(d))])},[k("span",{class:S([N(t).e("input"),N(t).is("disabled",N(u)),N(t).is("checked",N(r)===N(c))])},[C(k("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":e=>w(r)?r.value=e:null,class:S(N(t).e("original")),value:N(c),name:e.name||(null==(l=N(s))?void 0:l.name),disabled:N(u),checked:N(r)===N(c),type:"radio",onFocus:e=>i.value=!0,onBlur:e=>i.value=!1,onChange:p,onClick:E((()=>{}),["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[x,N(r)]]),k("span",{class:S(N(t).e("inner"))},null,2)],2),k("span",{class:S(N(t).e("label")),onKeydown:E((()=>{}),["stop"])},[$(e.$slots,"default",{},(()=>[V(L(e.label),1)]))],42,["onKeydown"])],2)}}}),[["__file","radio.vue"]]);const Qe=o({...je}),Ye=m({name:"ElRadioButton"});var ea=f(m({...Ye,props:Qe,setup(e){const a=e,l=b("radio"),{radioRef:t,focus:o,size:n,disabled:s,modelValue:i,radioGroup:d,actualValue:u}=We(a),c=r((()=>({backgroundColor:(null==d?void 0:d.fill)||"",borderColor:(null==d?void 0:d.fill)||"",boxShadow:(null==d?void 0:d.fill)?`-1px 0 0 0 ${d.fill}`:"",color:(null==d?void 0:d.textColor)||""})));return(e,a)=>{var r;return y(),g("label",{class:S([N(l).b("button"),N(l).is("active",N(i)===N(u)),N(l).is("disabled",N(s)),N(l).is("focus",N(o)),N(l).bm("button",N(n))])},[C(k("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":e=>w(i)?i.value=e:null,class:S(N(l).be("button","original-radio")),value:N(u),type:"radio",name:e.name||(null==(r=N(d))?void 0:r.name),disabled:N(s),onFocus:e=>o.value=!0,onBlur:e=>o.value=!1,onClick:E((()=>{}),["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[x,N(i)]]),k("span",{class:S(N(l).be("button","inner")),style:T(N(i)===N(u)?N(c):{}),onKeydown:E((()=>{}),["stop"])},[$(e.$slots,"default",{},(()=>[V(L(e.label),1)]))],46,["onKeydown"])],2)}}}),[["__file","radio-button.vue"]]);const aa=o({id:{type:String,default:void 0},size:i,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...B(["ariaLabel"])}),la=Oe,ta=m({name:"ElRadioGroup"});var oa=f(m({...ta,props:aa,emits:la,setup(e,{emit:a}){const l=e,t=b("radio"),o=M(),i=d(),{formItem:u}=D(),{inputId:c,isLabeledByFormItem:p}=F(l,{formItemContext:u});z((()=>{const e=i.value.querySelectorAll("[type=radio]"),a=e[0];!Array.from(e).some((e=>e.checked))&&a&&(a.tabIndex=0)}));const v=r((()=>l.name||o.value));return I(Ze,R({...A(l),changeEvent:e=>{a(s,e),_((()=>a(n,e)))},name:v})),P((()=>l.modelValue),(()=>{l.validateEvent&&(null==u||u.validate("change").catch((e=>q())))})),(e,a)=>(y(),g("div",{id:N(c),ref_key:"radioGroupRef",ref:i,class:S(N(t).b("group")),role:"radiogroup","aria-label":N(p)?void 0:e.ariaLabel||"radio-group","aria-labelledby":N(p)?N(u).labelId:void 0},[$(e.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}}),[["__file","radio-group.vue"]]);const na=H(Je,{RadioButton:ea,RadioGroup:oa});K(oa),K(ea);var sa=m({name:"NodeContent",setup:()=>({ns:b("cascader-node")}),render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:t,label:o}=a,{renderLabelFn:n}=l;return U("span",{class:e.e("label")},n?n({node:a,data:t}):o)}});const ia=Symbol(),da=m({name:"ElCascaderNode",components:{ElCheckbox:Me,ElRadio:na,NodeContent:sa,ElIcon:ee,Check:Y,Loading:Q,ArrowRight:J},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=u(ia),t=b("cascader-node"),o=r((()=>l.isHoverMenu)),n=r((()=>l.config.multiple)),s=r((()=>l.config.checkStrictly)),i=r((()=>{var e;return null==(e=l.checkedNodes[0])?void 0:e.uid})),d=r((()=>e.node.isDisabled)),c=r((()=>e.node.isLeaf)),p=r((()=>s.value&&!c.value||!d.value)),v=r((()=>f(l.expandingNode))),h=r((()=>s.value&&l.checkedNodes.some(f))),f=a=>{var l;const{level:t,uid:o}=e.node;return(null==(l=null==a?void 0:a.pathNodes[t-1])?void 0:l.uid)===o},m=()=>{v.value||l.expandNode(e.node)},g=a=>{const{node:t}=e;a!==t.checked&&l.handleCheckChange(t,a)},y=()=>{l.lazyLoad(e.node,(()=>{c.value||m()}))},k=()=>{const{node:a}=e;p.value&&!a.loading&&(a.loaded?m():y())},C=a=>{e.node.loaded?(g(a),!s.value&&m()):y()};return{panel:l,isHoverMenu:o,multiple:n,checkStrictly:s,checkedNodeId:i,isDisabled:d,isLeaf:c,expandable:p,inExpandingPath:v,inCheckedPath:h,ns:t,handleHoverExpand:e=>{o.value&&(k(),!c.value&&a("expand",e))},handleExpand:k,handleClick:()=>{o.value&&!c.value||(!c.value||d.value||s.value||n.value?k():C(!0))},handleCheck:C,handleSelectCheck:a=>{s.value?(g(a),e.node.loaded&&m()):C(a)}}}});var ua=f(m({name:"ElCascaderMenu",components:{Loading:Q,ElIcon:ee,ElScrollbar:Be,ElCascaderNode:f(da,[["render",function(e,a,l,t,o,n){const s=j("el-checkbox"),i=j("el-radio"),d=j("check"),u=j("el-icon"),r=j("node-content"),c=j("loading"),p=j("arrow-right");return y(),g("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?void 0:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:S([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[G(" prefix "),e.multiple?(y(),O(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:E((()=>{}),["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(y(),O(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:E((()=>{}),["stop"])},{default:W((()=>[G("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),k("span")])),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(y(),O(u,{key:2,class:S(e.ns.e("prefix"))},{default:W((()=>[Z(d)])),_:1},8,["class"])):G("v-if",!0),G(" content "),Z(r),G(" postfix "),e.isLeaf?G("v-if",!0):(y(),g(X,{key:3},[e.node.loading?(y(),O(u,{key:0,class:S([e.ns.is("loading"),e.ns.e("postfix")])},{default:W((()=>[Z(c)])),_:1},8,["class"])):(y(),O(u,{key:1,class:S(["arrow-right",e.ns.e("postfix")])},{default:W((()=>[Z(p)])),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}],["__file","node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=te(),l=b("cascader-menu"),{t:t}=le(),o=M();let n=null,s=null;const i=u(ia),c=d(null),p=r((()=>!e.nodes.length)),v=r((()=>!i.initialLoaded)),h=r((()=>`${o.value}-${e.index}`)),f=()=>{s&&(clearTimeout(s),s=null)},m=()=>{c.value&&(c.value.innerHTML="",f())};return{ns:l,panel:i,hoverZone:c,isEmpty:p,isLoading:v,menuId:h,t:t,handleExpand:e=>{n=e.target},handleMouseMove:e=>{if(i.isHoverMenu&&n&&c.value)if(n.contains(e.target)){f();const l=a.vnode.el,{left:t}=l.getBoundingClientRect(),{offsetWidth:o,offsetHeight:s}=l,i=e.clientX-t,d=n.offsetTop,u=d+n.offsetHeight;c.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${d} L${o} 0 V${d} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${u} L${o} ${s} V${u} Z" />\n        `}else s||(s=window.setTimeout(m,i.config.hoverThreshold))},clearHoverZone:m}}}),[["render",function(e,a,l,t,o,n){const s=j("el-cascader-node"),i=j("loading"),d=j("el-icon"),u=j("el-scrollbar");return y(),O(u,{key:e.menuId,tag:"ul",role:"menu",class:S(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:W((()=>{var a;return[(y(!0),g(X,null,ae(e.nodes,(a=>(y(),O(s,{key:a.uid,node:a,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(y(),g("div",{key:0,class:S(e.ns.e("empty-text"))},[Z(d,{size:"14",class:S(e.ns.is("loading"))},{default:W((()=>[Z(i)])),_:1},8,["class"]),V(" "+L(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(y(),g("div",{key:1,class:S(e.ns.e("empty-text"))},[$(e.$slots,"empty",{},(()=>[V(L(e.t("el.cascader.noData")),1)]))],2)):(null==(a=e.panel)?void 0:a.isHoverMenu)?(y(),g(X,{key:2},[G(" eslint-disable-next-line vue/html-self-closing "),(y(),g("svg",{ref:"hoverZone",class:S(e.ns.e("hover-zone"))},null,2))],2112)):G("v-if",!0)]})),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","menu.vue"]]);let ra=0;class ca{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=ra++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:n,children:s}=a,i=e[s],d=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[o],this.label=e[n],this.pathNodes=d,this.pathValues=d.map((e=>e.value)),this.pathLabels=d.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((e=>new ca(e,a,this))),this.loaded=!a.lazy||this.isLeaf||!oe(i)}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:o}=l;return(ne(t)?t(e,this):!!e[t])||!o&&(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:o,leaf:n}=a,s=ne(n)?n(e,this):e[n];return se(s)?!(o&&!t)&&!(ie(l)&&l.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new ca(e,this.config,this);return ie(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e,...a){const l=`onParent${De(e)}`;this.children.forEach((t=>{t&&(t.broadcast(e,...a),t[l]&&t[l](...a))}))}emit(e,...a){const{parent:l}=this,t=`onChild${De(e)}`;l&&(l[t]&&l[t](...a),l.emit(e,...a))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter((e=>!e.isDisabled)),l=!!a.length&&a.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce(((e,a)=>e+(a.checked?1:a.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const pa=(e,a)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat(pa(l.children,a))),e)),[]);class va{constructor(e,a){this.config=a;const l=(e||[]).map((e=>new ca(e,this.config)));this.nodes=l,this.allNodes=pa(l,!1),this.leafNodes=pa(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new ca(e,this.config);a||this.nodes.push(l),this.appendAllNodesAndLeafNodes(l)}appendNodes(e,a){e.forEach((e=>this.appendNode(e,a)))}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach((e=>{this.appendAllNodesAndLeafNodes(e)}))}getNodeByValue(e,a=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(a).find((a=>Re(a.value,e)||Re(a.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:a,level:l})=>Re(e.value,a)&&e.level===l))||null}}const ha=o({modelValue:{type:de([Number,String,Array])},options:{type:de(Array),default:()=>[]},props:{type:de(Object),default:()=>({})}}),fa={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:ue,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},ma=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])},ba=e=>[...new Set(e)],ga=e=>e||0===e?ie(e)?e:[e]:[];const ya=H(f(m({name:"ElCascaderPanel",components:{ElCascaderMenu:ua},props:{...ha,border:{type:Boolean,default:!0},renderLabel:Function},emits:[s,n,"close","expand-change"],setup(a,{emit:l,slots:t}){let o=!1;const i=b("cascader"),u=(e=>r((()=>({...fa,...e.props}))))(a);let c=null;const p=d(!0),v=d([]),h=d(null),f=d([]),m=d(null),g=d([]),y=r((()=>"hover"===u.value.expandTrigger)),k=r((()=>a.renderLabel||t.default)),C=(e,a)=>{const l=u.value;(e=e||new ca({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const t=e,o=t.root?null:t;l&&(null==c||c.appendNodes(l,o)),t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&a(l)}))},x=(e,a)=>{var t;const{level:o}=e,n=f.value.slice(0,o);let s;e.isLeaf?s=e.pathNodes[o-2]:(s=e,n.push(e.children)),(null==(t=m.value)?void 0:t.uid)!==(null==s?void 0:s.uid)&&(m.value=e,f.value=n,!a&&l("expand-change",(null==e?void 0:e.pathValues)||[]))},N=(e,a,t=!0)=>{const{checkStrictly:n,multiple:s}=u.value,i=g.value[0];o=!0,!s&&(null==i||i.doCheck(!1)),e.doCheck(a),$(),t&&!s&&!n&&l("close"),!t&&!s&&!n&&E(e)},E=e=>{e&&(e=e.parent,E(e),e&&x(e))},S=e=>null==c?void 0:c.getFlattedNodes(e),w=e=>{var a;return null==(a=S(e))?void 0:a.filter((e=>!1!==e.checked))},$=()=>{var e;const{checkStrictly:a,multiple:l}=u.value,t=((e,a)=>{const l=a.slice(0),t=l.map((e=>e.uid)),o=e.reduce(((e,a)=>{const o=t.indexOf(a.uid);return o>-1&&(e.push(a),l.splice(o,1),t.splice(o,1)),e}),[]);return o.push(...l),o})(g.value,w(!a)),o=t.map((e=>e.valueByOption));g.value=t,h.value=l?o:null!=(e=o[0])?e:null},V=(l=!1,t=!1)=>{const{modelValue:n}=a,{lazy:s,multiple:i,checkStrictly:d}=u.value,r=!d;var v;if(p.value&&!o&&(t||!Re(n,h.value)))if(s&&!l){const a=ba(null!=(v=ga(n))&&v.length?e(v,Ue):[]).map((e=>null==c?void 0:c.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));a.length?a.forEach((e=>{C(e,(()=>V(!1,t)))})):V(!0,t)}else{const e=i?ga(n):[n],a=ba(e.map((e=>null==c?void 0:c.getNodeByValue(e,r))));L(a,t),h.value=Ke(n)}},L=(e,a=!0)=>{const{checkStrictly:l}=u.value,t=g.value,o=e.filter((e=>!!e&&(l||e.isLeaf))),n=null==c?void 0:c.getSameNode(m.value),s=a&&n||o[0];s?s.pathNodes.forEach((e=>x(e,!0))):m.value=null,t.forEach((e=>e.doCheck(!1))),R(o).forEach((e=>e.doCheck(!0))),g.value=o,_(T)},T=()=>{pe&&v.value.forEach((e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(`.${i.namespace.value}-scrollbar__wrap`),l=a.querySelector(`.${i.b("node")}.${i.is("active")}`)||a.querySelector(`.${i.b("node")}.in-active-path`);ve(e,l)}}))};return I(ia,R({config:u,expandingNode:m,checkedNodes:g,isHoverMenu:y,initialLoaded:p,renderLabelFn:k,lazyLoad:C,expandNode:x,handleCheckChange:N})),P([u,()=>a.options],(()=>{const{options:e}=a,l=u.value;o=!1,c=new va(e,l),f.value=[c.getNodes()],l.lazy&&oe(a.options)?(p.value=!1,C(void 0,(e=>{e&&(c=new va(e,l),f.value=[c.getNodes()]),p.value=!0,V(!1,!0)}))):V(!1,!0)}),{deep:!0,immediate:!0}),P((()=>a.modelValue),(()=>{o=!1,V()}),{deep:!0}),P((()=>h.value),(e=>{Re(e,a.modelValue)||(l(s,e),l(n,e))})),ce((()=>v.value=[])),z((()=>!oe(a.modelValue)&&V())),{ns:i,menuList:v,menus:f,checkedNodes:g,handleKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case he.up:case he.down:{e.preventDefault();const t=l===he.up?-1:1;fe(me(a,t,`.${i.b("node")}[tabindex="-1"]`));break}case he.left:{e.preventDefault();const l=v.value[ma(a)-1],t=null==l?void 0:l.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);fe(t);break}case he.right:{e.preventDefault();const l=v.value[ma(a)+1],t=null==l?void 0:l.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);fe(t);break}case he.enter:case he.numpadEnter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():re(e)&&e.click()})(a)}},handleCheckChange:N,getFlattedNodes:S,getCheckedNodes:w,clearCheckedNodes:()=>{g.value.forEach((e=>e.doCheck(!1))),$(),f.value=f.value.slice(0,1),m.value=null,l("expand-change",[])},calculateCheckedValue:$,scrollToExpandingNode:T}}}),[["render",function(e,a,l,t,o,n){const s=j("el-cascader-menu");return y(),g("div",{class:S([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(y(!0),g(X,null,ae(e.menus,((a,l)=>(y(),O(s,{key:l,ref_for:!0,ref:a=>e.menuList[l]=a,index:l,nodes:[...a]},{empty:W((()=>[$(e.$slots,"empty")])),_:2},1032,["index","nodes"])))),128))],42,["onKeydown"])}],["__file","index.vue"]])),ka=o({...ha,size:i,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:de(Function),default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:de(Function),default:()=>!0},placement:{type:de(String),values:ye,default:"bottom-start"},fallbackPlacements:{type:de(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:ge.teleported,tagType:{...Fe.type,default:"info"},tagEffect:{...Fe.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...be}),Ca={[s]:e=>!0,[n]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>t(e),expandChange:e=>!!e,removeTag:e=>!!e},xa=m({name:"ElCascader"});const Na=H(f(m({...xa,props:ka,emits:Ca,setup(e,{expose:a,emit:l}){const t=e,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},i=ke();let u=0,c=0;const v=b("cascader"),h=b("input"),{t:f}=le(),{form:m,formItem:x}=D(),{valueOnClear:V}=Ce(t),{isComposing:B,handleComposition:M}=Pe({afterComposition(e){var a;const l=null==(a=e.target)?void 0:a.value;ca(l)}}),F=d(null),I=d(null),R=d(null),A=d(null),H=d(null),K=d(!1),U=d(!1),j=d(!1),J=d(!1),Q=d(""),te=d(""),oe=d([]),ne=d([]),se=d([]),ie=r((()=>i.style)),de=r((()=>t.disabled||(null==m?void 0:m.disabled))),ue=r((()=>t.placeholder||f("el.cascader.placeholder"))),re=r((()=>te.value||oe.value.length>0||B.value?"":ue.value)),ce=p(),ve=r((()=>"small"===ce.value?"small":"default")),be=r((()=>!!t.props.multiple)),ge=r((()=>!t.filterable||be.value)),ye=r((()=>be.value?te.value:Q.value)),Me=r((()=>{var e;return(null==(e=A.value)?void 0:e.checkedNodes)||[]})),De=r((()=>!(!t.clearable||de.value||j.value||!U.value)&&!!Me.value.length)),Fe=r((()=>{const{showAllLevels:e,separator:a}=t,l=Me.value;return l.length?be.value?"":l[0].calcText(e,a):""})),Re=r((()=>(null==x?void 0:x.validateState)||"")),Ae=r({get:()=>Ke(t.modelValue),set(e){const a=null!=e?e:V.value;l(s,a),l(n,a),t.validateEvent&&(null==x||x.validate("change").catch((e=>q())))}}),Ue=r((()=>[v.b(),v.m(ce.value),v.is("disabled",de.value),i.class])),je=r((()=>[h.e("icon"),"icon-arrow-down",v.is("reverse",K.value)])),Ge=r((()=>v.is("focus",K.value||J.value))),Oe=r((()=>{var e,a;return null==(a=null==(e=F.value)?void 0:e.popperRef)?void 0:a.contentRef})),Ze=e=>{var a,o,n;de.value||(e=null!=e?e:!K.value)!==K.value&&(K.value=e,null==(o=null==(a=I.value)?void 0:a.input)||o.setAttribute("aria-expanded",`${e}`),e?(We(),_(null==(n=A.value)?void 0:n.scrollToExpandingNode)):t.filterable&&na(),l("visibleChange",e))},We=()=>{_((()=>{var e;null==(e=F.value)||e.updatePopper()}))},Xe=()=>{j.value=!1},Je=e=>{const{showAllLevels:a,separator:l}=t;return{node:e,key:e.uid,text:e.calcText(a,l),hitState:!1,closable:!de.value&&!e.isDisabled,isCollapseTag:!1}},Qe=e=>{var a;const t=e.node;t.doCheck(!1),null==(a=A.value)||a.calculateCheckedValue(),l("removeTag",t.valueByOption)},Ye=()=>{var e,a;const{filterMethod:l,showAllLevels:o,separator:n}=t,s=null==(a=null==(e=A.value)?void 0:e.getFlattedNodes(!t.props.checkStrictly))?void 0:a.filter((e=>!e.isDisabled&&(e.calcText(o,n),l(e,ye.value))));be.value&&(oe.value.forEach((e=>{e.hitState=!1})),ne.value.forEach((e=>{e.hitState=!1}))),j.value=!0,se.value=s,We()},ea=()=>{var e;let a;a=j.value&&H.value?H.value.$el.querySelector(`.${v.e("suggestion-item")}`):null==(e=A.value)?void 0:e.$el.querySelector(`.${v.b("node")}[tabindex="-1"]`),a&&(a.focus(),!j.value&&a.click())},aa=()=>{var e,a;const l=null==(e=I.value)?void 0:e.input,t=R.value,o=null==(a=H.value)?void 0:a.$el;if(pe&&l){if(o){o.querySelector(`.${v.e("suggestion-list")}`).style.minWidth=`${l.offsetWidth}px`}if(t){const{offsetHeight:e}=t,a=oe.value.length>0?Math.max(e,u)-2+"px":`${u}px`;l.style.height=a,We()}}},la=e=>{We(),l("expandChange",e)},ta=e=>{if(!B.value)switch(e.code){case he.enter:case he.numpadEnter:Ze();break;case he.down:Ze(!0),_(ea),e.preventDefault();break;case he.esc:!0===K.value&&(e.preventDefault(),e.stopPropagation(),Ze(!1));break;case he.tab:Ze(!1)}},oa=()=>{var e;null==(e=A.value)||e.clearCheckedNodes(),!K.value&&t.filterable&&na(),Ze(!1),l("clear")},na=()=>{const{value:e}=Fe;Q.value=e,te.value=e},sa=e=>{const a=e.target,{code:l}=e;switch(l){case he.up:case he.down:{e.preventDefault();const t=l===he.up?-1:1;fe(me(a,t,`.${v.e("suggestion-item")}[tabindex="-1"]`));break}case he.enter:case he.numpadEnter:a.click()}},ia=()=>{const e=oe.value,a=e[e.length-1];c=te.value?0:c+1,!a||!c||t.collapseTags&&e.length>1||(a.hitState?Qe(a):a.hitState=!0)},da=e=>{const a=e.target,t=v.e("search-input");a.className===t&&(J.value=!0),l("focus",e)},ua=e=>{J.value=!1,l("blur",e)},ra=ze((()=>{const{value:e}=ye;if(!e)return;const a=t.beforeFilter(e);xe(a)?a.then(Ye).catch((()=>{})):!1!==a?Ye():Xe()}),t.debounce),ca=(e,a)=>{!K.value&&Ze(!0),(null==a?void 0:a.isComposing)||(e?ra():Xe())},pa=e=>Number.parseFloat(Te(h.cssVarName("input-height"),e).value)-2;return P(j,We),P([Me,de,()=>t.collapseTags],(()=>{if(!be.value)return;const e=Me.value,a=[],l=[];if(e.forEach((e=>l.push(Je(e)))),ne.value=l,e.length){e.slice(0,t.maxCollapseTags).forEach((e=>a.push(Je(e))));const l=e.slice(t.maxCollapseTags),o=l.length;o&&(t.collapseTags?a.push({key:-1,text:`+ ${o}`,closable:!1,isCollapseTag:!0}):l.forEach((e=>a.push(Je(e)))))}oe.value=a})),P(oe,(()=>{_((()=>aa()))})),P(ce,(async()=>{await _();const e=I.value.input;u=pa(e)||u,aa()})),P(Fe,na,{immediate:!0}),z((()=>{const e=I.value.input,a=pa(e);u=e.offsetHeight||a,Ne(e,aa)})),a({getCheckedNodes:e=>{var a;return null==(a=A.value)?void 0:a.getCheckedNodes(e)},cascaderPanelRef:A,togglePopperVisible:Ze,contentRef:Oe,presentText:Fe}),(e,a)=>(y(),O(N(Ve),{ref_key:"tooltipRef",ref:F,visible:K.value,teleported:e.teleported,"popper-class":[N(v).e("dropdown"),e.popperClass],"popper-options":o,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${N(v).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:e.persistent,onHide:Xe},{default:W((()=>[C((y(),g("div",{class:S(N(Ue)),style:T(N(ie)),onClick:()=>Ze(!N(ge)||void 0),onKeydown:ta,onMouseenter:e=>U.value=!0,onMouseleave:e=>U.value=!1},[Z(N(qe),{ref_key:"input",ref:I,modelValue:Q.value,"onUpdate:modelValue":e=>Q.value=e,placeholder:N(re),readonly:N(ge),disabled:N(de),"validate-event":!1,size:N(ce),class:S(N(Ge)),tabindex:N(be)&&e.filterable&&!N(de)?-1:void 0,onCompositionstart:N(M),onCompositionupdate:N(M),onCompositionend:N(M),onFocus:da,onBlur:ua,onInput:ca},Se({suffix:W((()=>[N(De)?(y(),O(N(ee),{key:"clear",class:S([N(h).e("icon"),"icon-circle-close"]),onClick:E(oa,["stop"])},{default:W((()=>[Z(N(we))])),_:1},8,["class","onClick"])):(y(),O(N(ee),{key:"arrow-down",class:S(N(je)),onClick:E((e=>Ze()),["stop"])},{default:W((()=>[Z(N($e))])),_:1},8,["class","onClick"]))])),_:2},[e.$slots.prefix?{name:"prefix",fn:W((()=>[$(e.$slots,"prefix")]))}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),N(be)?(y(),g("div",{key:0,ref_key:"tagWrapper",ref:R,class:S([N(v).e("tags"),N(v).is("validate",Boolean(N(Re)))])},[(y(!0),g(X,null,ae(oe.value,(a=>(y(),O(N(Ie),{key:a.key,type:e.tagType,size:N(ve),effect:e.tagEffect,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:e=>Qe(a)},{default:W((()=>[!1===a.isCollapseTag?(y(),g("span",{key:0},L(a.text),1)):(y(),O(N(Ve),{key:1,disabled:K.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:W((()=>[k("span",null,L(a.text),1)])),content:W((()=>[k("div",{class:S(N(v).e("collapse-tags"))},[(y(!0),g(X,null,ae(ne.value.slice(e.maxCollapseTags),((a,l)=>(y(),g("div",{key:l,class:S(N(v).e("collapse-tag"))},[(y(),O(N(Ie),{key:a.key,class:"in-tooltip",type:e.tagType,size:N(ve),effect:e.tagEffect,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:e=>Qe(a)},{default:W((()=>[k("span",null,L(a.text),1)])),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","effect","hit","closable","onClose"])))),128)),e.filterable&&!N(de)?C((y(),g("input",{key:0,"onUpdate:modelValue":e=>te.value=e,type:"text",class:S(N(v).e("search-input")),placeholder:N(Fe)?"":N(ue),onInput:e=>ca(te.value,e),onClick:E((e=>Ze(!0)),["stop"]),onKeydown:Le(ia,["delete"]),onCompositionstart:N(M),onCompositionupdate:N(M),onCompositionend:N(M),onFocus:da,onBlur:ua},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[_e,te.value]]):G("v-if",!0)],2)):G("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[N(He),()=>Ze(!1),N(Oe)]])])),content:W((()=>[C(Z(N(ya),{ref_key:"cascaderPanelRef",ref:A,modelValue:N(Ae),"onUpdate:modelValue":e=>w(Ae)?Ae.value=e:null,options:e.options,props:t.props,border:!1,"render-label":e.$slots.default,onExpandChange:la,onClose:a=>e.$nextTick((()=>Ze(!1)))},{empty:W((()=>[$(e.$slots,"empty")])),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Ee,!j.value]]),e.filterable?C((y(),O(N(Be),{key:0,ref_key:"suggestionPanel",ref:H,tag:"ul",class:S(N(v).e("suggestion-panel")),"view-class":N(v).e("suggestion-list"),onKeydown:sa},{default:W((()=>[se.value.length?(y(!0),g(X,{key:0},ae(se.value,(a=>(y(),g("li",{key:a.uid,class:S([N(v).e("suggestion-item"),N(v).is("checked",a.checked)]),tabindex:-1,onClick:e=>(e=>{var a,l;const{checked:t}=e;be.value?null==(a=A.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=A.value)||l.handleCheckChange(e,!0,!1)),Ze(!1))})(a)},[$(e.$slots,"suggestion-item",{item:a},(()=>[k("span",null,L(a.text),1),a.checked?(y(),O(N(ee),{key:0},{default:W((()=>[Z(N(Y))])),_:1})):G("v-if",!0)]))],10,["onClick"])))),128)):$(e.$slots,"empty",{key:1},(()=>[k("li",{class:S(N(v).e("empty-text"))},L(N(f)("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class"])),[[Ee,j.value]]):G("v-if",!0)])),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}}),[["__file","cascader.vue"]]));export{Na as E,Ke as c};
